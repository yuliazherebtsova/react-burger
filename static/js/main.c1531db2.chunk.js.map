{"version":3,"sources":["components/burger-constructor/burger-constructor.module.css","components/ingredient-details/ingredient-details.module.css","components/modal-overlay/modal-overlay.jsx","utils/constants.jsx","components/modal/modal.jsx","components/navigation-link/navigation-link.jsx","components/app-header/app-header.jsx","components/burger-ingredient/burger-ingredient.jsx","components/burger-ingredients/burger-ingredients.jsx","services/actions/constructor.jsx","utils/api.jsx","services/actions/order.jsx","components/draggable-item/draggable-item.jsx","components/burger-constructor/burger-constructor.jsx","images/done.svg","components/order-details/order-details.jsx","components/ingredient-details/ingredient-details.jsx","components/loading-indicator-hoc/loading-indicator-hoc.jsx","services/actions/ingredients.jsx","components/app/app.jsx","services/reducers/ingredients.jsx","services/reducers/constructor.jsx","services/reducers/order.jsx","services/reducers/index.jsx","services/store.jsx","index.jsx","components/app/app.module.css","components/app-header/app-header.module.css","components/burger-ingredient/burger-ingredient.module.css","components/burger-ingredients/burger-ingredients.module.css","components/modal/modal.module.css","components/order-details/order-details.module.css","components/draggable-item/draggable-item.module.css","components/modal-overlay/modal-overlay.module.css","components/navigation-link/navigation-link.module.css"],"names":["module","exports","ModalOverlay","onClose","className","overlayStyles","overlay","onClick","onKeyPress","portal","document","getElementById","Modal","children","title","useEffect","handleEscPress","evt","key","addEventListener","removeEventListener","ReactDOM","createPortal","modalStyles","modal","modal__closeIcon","type","modal__title","NavigationLink","icon","isActive","onNavigationClick","navigtionTextStyle","href","navigationStyles","navigation__link","AppHeader","useState","currentPage","setCurrentPage","handleNavigationClick","headerStyles","header","header__container","header__navigation","header__logo","BurgerIngredient","id","image","price","name","onOpenModalWithIngredient","ingredientsInOrder","useSelector","state","burgerConstructor","bunElement","draggableElements","useDrag","item","collect","monitor","isDragging","dragRef","dragPreview","onClickToIngredient","e","ingredientsCounter","filter","_id","length","ingredientStyles","ingredient__сard","ingredient__сard_isDragging","ref","DragPreviewImage","src","connect","alt","count","size","ingredient__price","ingredient__name","BurgerIngredients","ingredients","burgerIngredients","ingredientTypes","bun","useRef","sauce","main","currentTab","setCurrentTab","handleTabClick","useCallback","tabName","element","current","scrollIntoView","behavior","ingredientsByType","Object","keys","map","items","el","ingredientsStyles","ingredients__container","ingredients__tabContainer","values","index","value","active","ingredients__list","appStyles","scroll","onScroll","scrollPosition","target","scrollTop","positionOfSauseSection","offsetTop","positionOfMainSection","ingredient__category","ADD_BUN_ELEMENT","ADD_NON_BUN_ELEMENT","DELETE_ELEMENT","UPDATE_ELEMENTS_ORDER","RESET_CONSTRUCTOR","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","Error","status","fetch","then","_checkResponse","method","body","JSON","stringify","POST_ORDER_REQUEST","POST_ORDER_SUCCESS","POST_ORDER_FAILED","RESET_ORDER","postOrderFailed","postOrder","ingredientsData","dispatch","orderNumber","success","order","number","catch","err","console","log","DraggableItem","uid","findDraggableElement","moveDraggableElement","useDispatch","originalIndex","draggableElementIndex","end","_","didDrop","useDrop","accept","hover","draggedUid","overIndex","dropTarget","draggableItemStyles","draggableElement","draggableElement_isDragging","node","text","thumbnail","handleClose","itemToDeleteUid","closest","dataset","BurgerConstructor","orderRequest","handleIngredientDrop","draggedItem","find","uuidv4","payload","addNonBunElement","handleCanIngredientDrop","drop","itemId","canDrop","isHover","isOver","isCanDrop","indexOf","newIndex","udpadeElementsOrder","sortTarget","isConstructorEmpty","constructorElementsClass","constructorStyles","constructor__elements","constructor__elements_dropArea","constructor__elements_canDrop","constructor__elements_canNotDrop","totalPrice","useMemo","reduce","acc","constructor__bunElement","isLocked","constructor__nonBunElements","constructor__text","constructor__totalPriceContainer","constructor__totalPrice","disabled","htmlType","OrderDetails","orderStyles","order__number","order__image","doneImage","IngredientDetails","fat","carbohydrates","calories","proteins","ingredientDetailsStyles","ingredient","ingredient__image","ingredient__compounds","ingredient__compound","LoadingIndicatorHOC","isLoading","hasError","gotData","onErrorModalClose","GET_INGREDIENTS_REQUEST","GET_INGREDIENTS_SUCCESS","GET_INGREDIENTS_FAILED","SET_INGREDIENT_TO_VIEW","RESET_INGREDIENT_TO_VIEW","RESET_INGREDIENTS","getIngredientsFailed","getIngredientsData","getIngredients","data","App","ingredientToView","ingredientsRequest","ingredientsFailed","orderFailed","handleIngredientModalOpen","ingredientId","handleOrderModalClose","page","Boolean","DndProvider","backend","HTML5Backend","ingredientsInitialState","constructorInitialState","orderInitialState","rootReducer","combineReducers","action","concat","oldIndex","update","$splice","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","render","StrictMode"],"mappings":"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","file":"static/js/main.c1531db2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"constructor__elements\":\"burger-constructor_constructor__elements__cuaLn\",\"constructor__elements_dropArea\":\"burger-constructor_constructor__elements_dropArea__XgeNC\",\"constructor__elements_canDrop\":\"burger-constructor_constructor__elements_canDrop__1Itgz\",\"constructor__elements_canNotDrop\":\"burger-constructor_constructor__elements_canNotDrop__Loy8D\",\"constructor__bunElement\":\"burger-constructor_constructor__bunElement__15ixT\",\"constructor__nonBunElements\":\"burger-constructor_constructor__nonBunElements__3Ni4f\",\"constructor__totalPriceContainer\":\"burger-constructor_constructor__totalPriceContainer__3S0-0\",\"constructor__totalPrice\":\"burger-constructor_constructor__totalPrice__24T16\",\"constructor__text\":\"burger-constructor_constructor__text__29Utu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"ingredient-details_ingredient__2hFcT\",\"ingredient__name\":\"ingredient-details_ingredient__name__2xadH\",\"ingredient__image\":\"ingredient-details_ingredient__image__3mDBz\",\"ingredient__compounds\":\"ingredient-details_ingredient__compounds__3fcIW\",\"ingredient__compound\":\"ingredient-details_ingredient__compound__3rw40\"};","import PropTypes from 'prop-types';\nimport overlayStyles from './modal-overlay.module.css';\n\nfunction ModalOverlay({ onClose }) {\n  return (\n    <div\n      className={overlayStyles.overlay}\n      onClick={onClose}\n      onKeyPress={onClose}\n    />\n  );\n}\n\nModalOverlay.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ModalOverlay;\n","export const BASE_URL = 'https://norma.nomoreparties.space/api';\n// параметры для работы с api сервера\nexport const portal = document.getElementById('react-portal');\n","import { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport ModalOverlay from '../modal-overlay/modal-overlay';\nimport modalStyles from './modal.module.css';\nimport { portal } from '../../utils/constants';\n\nfunction Modal({ children, title = '', onClose }) {\n  useEffect(() => {\n    const handleEscPress = (evt) => {\n      if (evt.key === 'Escape') onClose(evt);\n    };\n    document.addEventListener('keydown', handleEscPress);\n    return () => document.removeEventListener('keydown', handleEscPress);\n  }, [onClose]);\n\n  return ReactDOM.createPortal(\n    <>\n      <ModalOverlay onClose={onClose} />\n      <div className={`${modalStyles.modal} pt-15 pr-30 pb-15 pl-30`}>\n        <div className={modalStyles.modal__closeIcon}>\n          <CloseIcon onClick={onClose} type=\"primary\" />\n        </div>\n        <h2\n          className={`${modalStyles.modal__title} text text_type_main-large pb-4`}\n        >\n          {title}\n        </h2>\n        {children}\n      </div>\n    </>,\n    portal\n  );\n}\n\nModal.propTypes = {\n  children: PropTypes.element.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import PropTypes from 'prop-types';\nimport navigationStyles from './navigation-link.module.css';\n\nfunction NavigationLink({\n  children,\n  title,\n  icon,\n  isActive,\n  onNavigationClick,\n}) {\n  const navigationClickHandler = () => {\n    onNavigationClick(title);\n  };\n\n  const navigtionTextStyle = !isActive ? 'text_color_inactive' : '';\n\n  return (\n    <a\n      href=\"/#\"\n      className={`${navigationStyles.navigation__link} pt-4 pr-5 pb-4 pl-5`}\n      onClick={navigationClickHandler}\n    >\n      {icon}\n      <p\n        className={`text text text_type_main-default ml-2 ${navigtionTextStyle}`}\n      >\n        {children}\n      </p>\n    </a>\n  );\n}\n\nNavigationLink.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired,\n  isActive: PropTypes.bool.isRequired,\n  onNavigationClick: PropTypes.func.isRequired,\n};\n\nexport default NavigationLink;\n","import { useState } from 'react';\nimport NavigationLink from 'components/navigation-link/navigation-link';\nimport {\n  BurgerIcon,\n  ListIcon,\n  ProfileIcon,\n  Logo,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport headerStyles from './app-header.module.css';\n\nfunction AppHeader() {\n  const [currentPage, setCurrentPage] = useState('constructor');\n\n  const handleNavigationClick = (title) => {\n    setCurrentPage(title);\n  };\n\n  return (\n    <header className={headerStyles.header}>\n      <div className={`${headerStyles.header__container} pt-4 pb-4`}>\n        <nav>\n          <ul className={headerStyles.header__navigation}>\n            <li>\n              <NavigationLink\n                title=\"constructor\"\n                icon={\n                  <BurgerIcon\n                    type={\n                      currentPage === 'constructor' ? 'primary' : 'secondary'\n                    }\n                  />\n                }\n                isActive={currentPage === 'constructor'}\n                onNavigationClick={handleNavigationClick}\n              >\n                Конструктор\n              </NavigationLink>\n            </li>\n            <li>\n              <NavigationLink\n                title=\"orderList\"\n                icon={\n                  <ListIcon\n                    type={currentPage === 'orderList' ? 'primary' : 'secondary'}\n                  />\n                }\n                isActive={currentPage === 'orderList'}\n                onNavigationClick={handleNavigationClick}\n              >\n                Лента заказов\n              </NavigationLink>\n            </li>\n            <li className={headerStyles.header__logo}>\n              <a href=\"/#\">\n                <Logo />\n              </a>\n            </li>\n            <li>\n              <NavigationLink\n                title=\"profile\"\n                icon={\n                  <ProfileIcon\n                    type={currentPage === 'profile' ? 'primary' : 'secondary'}\n                  />\n                }\n                isActive={currentPage === 'profile'}\n                onNavigationClick={handleNavigationClick}\n              >\n                Личный кабинет\n              </NavigationLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </header>\n  );\n}\n\nexport default AppHeader;\n","import { useDrag, DragPreviewImage } from 'react-dnd';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n  Counter,\n  CurrencyIcon,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport ingredientStyles from './burger-ingredient.module.css';\n\nfunction BurgerIngredient({\n  id,\n  image,\n  price,\n  name,\n  onOpenModalWithIngredient,\n}) {\n  const ingredientsInOrder = useSelector((state) => [\n    state.burgerConstructor.bunElement,\n    ...state.burgerConstructor.draggableElements,\n    state.burgerConstructor.bunElement,\n  ]);\n\n  const [{ isDragging }, dragRef, dragPreview] = useDrag(\n    {\n      type: 'BurgerIngredient',\n      item: { id },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n    },\n    [id]\n  );\n\n  const onClickToIngredient = (e) => onOpenModalWithIngredient(e);\n\n  const ingredientsCounter = ingredientsInOrder.filter(\n    (item) => item._id === id\n  ).length;\n\n  return (\n    <li\n      className={`${ingredientStyles.ingredient__сard} \n      ${isDragging && ingredientStyles.ingredient__сard_isDragging} mb-8`}\n      onClick={onClickToIngredient}\n      onKeyPress={onClickToIngredient}\n      ref={dragRef}\n      data-id={id}\n    >\n      <DragPreviewImage src={image} connect={dragPreview} />\n      <img src={image} alt={name} />\n      {ingredientsCounter !== 0 && (\n        <Counter count={ingredientsCounter} size=\"default\" />\n      )}\n      <div className={`${ingredientStyles.ingredient__price} mt-2 mb-2`}>\n        <span className=\"text text_type_digits-default mr-2\">{price}</span>\n        <CurrencyIcon />\n      </div>\n      <p\n        className={`${ingredientStyles.ingredient__name} text text text_type_main-default`}\n      >\n        {name}\n      </p>\n    </li>\n  );\n}\n\nBurgerIngredient.propTypes = {\n  onOpenModalWithIngredient: PropTypes.func.isRequired,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  image: PropTypes.string.isRequired,\n};\n\nexport default BurgerIngredient;\n","import { useState, useRef, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\nimport BurgerIngredient from 'components/burger-ingredient/burger-ingredient';\nimport ingredientsStyles from './burger-ingredients.module.css';\nimport appStyles from '../app/app.module.css';\n\nfunction BurgerIngredients({ onOpenModalWithIngredient }) {\n  const ingredients = useSelector(\n    (state) => state.burgerIngredients.ingredients\n  );\n\n  const ingredientTypes = {\n    bun: {\n      name: 'Булки',\n      ref: useRef(null),\n    },\n    sauce: {\n      name: 'Соусы',\n      ref: useRef(null),\n    },\n    main: {\n      name: 'Начинки',\n      ref: useRef(null),\n    },\n  };\n\n  const [currentTab, setCurrentTab] = useState('Булки');\n\n  const handleTabClick = useCallback(\n    ({ tabName, element }) =>\n      () => {\n        setCurrentTab(tabName);\n        element.current.scrollIntoView({ behavior: 'smooth' });\n      },\n    []\n  );\n\n  const groupIngredientsByType = () =>\n    Object.keys(ingredientTypes).map((key) => ({\n      name: ingredientTypes[key].name,\n      items: ingredients.filter((el) => el.type === key),\n      ref: ingredientTypes[key].ref,\n    }));\n\n  const ingredientsByType = groupIngredientsByType();\n\n  const handleSectionScroll = (e) => {\n    const container = e.target;\n    const scrollPosition = container.scrollTop;\n    const scrollOffset = 120;\n    const positionOfSauseSection = ingredientTypes.sauce.ref.current.offsetTop;\n    const positionOfMainSection = ingredientTypes.main.ref.current.offsetTop;\n    if (scrollPosition + scrollOffset <= positionOfSauseSection) {\n      setCurrentTab('Булки');\n    } else if (scrollPosition + scrollOffset <= positionOfMainSection) {\n      setCurrentTab('Соусы');\n    } else {\n      setCurrentTab('Начинки');\n    }\n  };\n\n  return (\n    <section className={ingredientsStyles.ingredients__container}>\n      <h1 className=\"text text_type_main-large mt-10 mb-5\">Соберите бургер</h1>\n      <nav>\n        <ul className={ingredientsStyles.ingredients__tabContainer}>\n          {Object.values(ingredientTypes).map((type, index) => (\n            <li key={index}>\n              <Tab\n                value={type.name}\n                active={currentTab === type.name}\n                onClick={handleTabClick({\n                  tabName: type.name,\n                  element: type.ref,\n                })}\n              >\n                {type.name}\n              </Tab>\n            </li>\n          ))}\n        </ul>\n      </nav>\n      <section>\n        <ul\n          className={`${ingredientsStyles.ingredients__list} ${appStyles.scroll} pr-4 pl-4`}\n          onScroll={handleSectionScroll}\n        >\n          {ingredientsByType.map(({ name, items, ref }, index) => (\n            <li key={index}>\n              <h2 className=\"text text_type_main-medium mt-6 mb-6\" ref={ref}>\n                {name}\n              </h2>\n              <ul\n                className={`${ingredientsStyles.ingredient__category} pr-4 pl-4`}\n              >\n                {items.map((item) => (\n                  <BurgerIngredient\n                    key={item._id}\n                    id={item._id}\n                    name={item.name}\n                    price={item.price}\n                    image={item.image}\n                    onOpenModalWithIngredient={onOpenModalWithIngredient}\n                  />\n                ))}\n              </ul>\n            </li>\n          ))}\n        </ul>\n      </section>\n    </section>\n  );\n}\n\nBurgerIngredients.propTypes = {\n  onOpenModalWithIngredient: PropTypes.func.isRequired,\n};\n\nexport default BurgerIngredients;\n","/*\n * типы экшенов\n */\n\nexport const ADD_BUN_ELEMENT = 'ADD_BUN_ELEMENT';\nexport const ADD_NON_BUN_ELEMENT = 'ADD_NON_BUN_ELEMENT';\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT';\nexport const UPDATE_ELEMENTS_ORDER = 'UPDATE_ELEMENTS_ORDER';\nexport const RESET_CONSTRUCTOR = 'RESET_CONSTRUCTOR';\n\n/*\n * генераторы экшенов\n */\n\nexport function addBunElement(element) {\n  return { type: ADD_BUN_ELEMENT, payload: element };\n}\n\nexport function addNonBunElement(element) {\n  return { type: ADD_NON_BUN_ELEMENT, payload: element };\n}\n\nexport function deleteElement(elementUid) {\n  return { type: DELETE_ELEMENT, uid: elementUid };\n}\n\nexport function udpadeElementsOrder({\n  draggableElement,\n  newIndex,\n}) {\n  return {\n    type: UPDATE_ELEMENTS_ORDER,\n    draggableElement,\n    newIndex,\n  };\n}\n\nexport function resetConstructor() {\n  return { type: RESET_CONSTRUCTOR };\n}\n","import { BASE_URL } from './constants';\n\nexport default class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  /**\n   * проверка ответа сервера на корректность:\n   * неуспешные запросы и ответы в fetch все равно резолвят промис,\n   * поэтому важно проверять булевское значение res.ok */\n\n  /**\n   * @params res - промис полученный от сервера с помощью fetch\n   * @returns в случае успешного ответа - json с данными, иначе - реджект промиса\n   */\n  // eslint-disable-next-line class-methods-use-this\n  _checkResponse(res) {\n    if (res.ok) return res.json();\n    return Promise.reject(new Error(`Ошибка запроса на сервер: ${res.status}`));\n  }\n\n  /**\n   * GET запрос данных со списком ингредиентов с сервера */\n\n  /**\n   * @returns промис полученный от сервера с помощью fetch\n   */\n  getIngredients() {\n    return fetch(`${this._baseUrl}/ingredients`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  /**\n   * POST запрос с данными заказа на сервер */\n\n  /**\n   * @returns промис полученный от сервера с помощью fetch\n   */\n  postOrder(ingredients) {\n    return fetch(`${this._baseUrl}/orders`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        ingredients,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n","/* eslint-disable func-names */\n/* eslint-disable no-console */\nimport { api } from 'utils/api';\nimport { resetConstructor } from 'services/actions/constructor';\n\n/*\n * типы экшенов\n */\n\nexport const POST_ORDER_REQUEST = 'POST_ORDER_REQUEST';\nexport const POST_ORDER_SUCCESS = 'POST_ORDER_SUCCESS';\nexport const POST_ORDER_FAILED = 'POST_ORDER_FAILED';\nexport const RESET_ORDER = 'RESET_ORDER';\n\n/*\n * генераторы экшенов\n */\n\nexport function resetOrder() {\n  return { type: RESET_ORDER };\n}\n\nfunction postOrderSuccess(orderNumber) {\n  return { type: POST_ORDER_SUCCESS, orderNumber };\n}\n\nfunction postOrderRequest() {\n  return { type: POST_ORDER_REQUEST };\n}\n\nfunction postOrderFailed() {\n  return { type: POST_ORDER_FAILED };\n}\n\nexport function postOrder(ingredientsData) {\n  return function (dispatch) {\n    dispatch(postOrderRequest());\n    api\n      .postOrder(ingredientsData)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(postOrderSuccess(res.order.number));\n        } else {\n          dispatch(postOrderFailed());\n        }\n      })\n      .then(() => {\n        dispatch(resetConstructor());\n      })\n      .catch((err) => {\n        dispatch(postOrderFailed());\n        console.log(`Ошибка оформления заказа: ${err}`);\n      });\n  };\n}\n","import { useDispatch } from 'react-redux';\nimport { useDrag, DragPreviewImage, useDrop } from 'react-dnd';\nimport PropTypes from 'prop-types';\nimport {\n  ConstructorElement,\n  DragIcon,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport { deleteElement } from 'services/actions/constructor';\nimport draggableItemStyles from './draggable-item.module.css';\n\nfunction DraggableItem({\n  id,\n  uid,\n  name,\n  price,\n  image,\n  onClickToIngredient,\n  findDraggableElement,\n  moveDraggableElement,\n}) {\n  const dispatch = useDispatch();\n\n  const originalIndex = findDraggableElement(uid).draggableElementIndex;\n\n  const [{ isDragging }, dragRef, dragPreview] = useDrag(\n    () => ({\n      type: 'DraggableItem',\n      item: { uid, originalIndex },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n      end: (_, monitor) => {\n        if (!monitor.didDrop()) {\n          moveDraggableElement(uid, originalIndex);\n        }\n      },\n    }),\n    [uid, moveDraggableElement, originalIndex]\n  );\n\n  const [, dropTarget] = useDrop(\n    () => ({\n      accept: 'DraggableItem',\n      hover({ uid: draggedUid }) {\n        if (draggedUid !== uid) {\n          const { draggableElementIndex: overIndex } =\n            findDraggableElement(uid);\n          moveDraggableElement(draggedUid, overIndex);\n        }\n      },\n    }),\n    [findDraggableElement, moveDraggableElement]\n  );\n\n  const handleIngredientDelete = (e) => {\n    const itemToDeleteUid = e.target.closest('li').dataset.uid;\n    dispatch(deleteElement(itemToDeleteUid));\n  };\n\n  return (\n    <li\n      className={`${draggableItemStyles.draggableElement} \n      ${\n        isDragging && draggableItemStyles.draggableElement_isDragging\n      } mb-4 ml-2`}\n      key={uid}\n      onClick={onClickToIngredient}\n      onKeyPress={onClickToIngredient}\n      data-id={id}\n      data-uid={uid}\n      ref={(node) => dragRef(dropTarget(node))}\n    >\n      <DragIcon type=\"primary\" />\n      <DragPreviewImage src={image} connect={dragPreview} />\n      <ConstructorElement\n        text={name}\n        price={price}\n        thumbnail={image}\n        handleClose={handleIngredientDelete}\n      />\n    </li>\n  );\n}\n\nDraggableItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  uid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  image: PropTypes.string.isRequired,\n  onClickToIngredient: PropTypes.func.isRequired,\n  findDraggableElement: PropTypes.func.isRequired,\n  moveDraggableElement: PropTypes.func.isRequired,\n};\n\nexport default DraggableItem;\n","import { useMemo, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useDrop } from 'react-dnd';\nimport PropTypes from 'prop-types';\nimport {\n  ConstructorElement,\n  CurrencyIcon,\n  Button,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {\n  addBunElement,\n  addNonBunElement,\n  udpadeElementsOrder,\n} from 'services/actions/constructor';\nimport { postOrder } from 'services/actions/order';\nimport { v4 as uuidv4 } from 'uuid';\nimport DraggableItem from 'components/draggable-item/draggable-item';\nimport constructorStyles from './burger-constructor.module.css';\nimport appStyles from '../app/app.module.css';\n\nfunction BurgerConstructor({ onOpenModalWithIngredient }) {\n  const { ingredients, bunElement, draggableElements, orderRequest } =\n    useSelector((state) => ({\n      ingredients: state.burgerIngredients.ingredients,\n      bunElement: state.burgerConstructor.bunElement,\n      draggableElements: state.burgerConstructor.draggableElements,\n      orderRequest: state.order.orderRequest,\n    }));\n\n  const dispatch = useDispatch();\n\n  const handleIngredientDrop = ({ id }) => {\n    const draggedItem = ingredients.find((item) => item._id === id);\n    if (draggedItem.type === 'bun') {\n      dispatch(addBunElement({ ...draggedItem, uid: uuidv4() }));\n    } else if (bunElement._id) {\n      // в конструкторе уже есть булка, можно добавить начинку\n      dispatch(addNonBunElement({ ...draggedItem, uid: uuidv4() }));\n    }\n  };\n\n  const handleCanIngredientDrop = ({ id }) => {\n    const draggedItem = ingredients.find((item) => item._id === id);\n    return !(!bunElement._id && draggedItem.type !== 'bun');\n    // если в конструкторе еще нет булки, добавить начинку нельзя\n  };\n\n  const [{ isHover, isCanDrop, isDragging }, dropTarget] = useDrop(\n    {\n      accept: 'BurgerIngredient',\n      drop(itemId) {\n        handleIngredientDrop(itemId);\n      },\n      canDrop(itemId) {\n        return handleCanIngredientDrop(itemId);\n      },\n      collect: (monitor) => ({\n        isHover: monitor.isOver(),\n        isCanDrop: monitor.canDrop(),\n        isDragging: monitor.canDrop() && !monitor.isOver(),\n      }),\n    },\n    [handleIngredientDrop, handleCanIngredientDrop]\n  );\n\n  const findDraggableElement = useCallback(\n    (uid) => {\n      const draggableElement = draggableElements.find(\n        (item) => item.uid === uid\n      );\n      return {\n        draggableElement,\n        draggableElementIndex: draggableElements.indexOf(draggableElement),\n      };\n    },\n    [draggableElements]\n  );\n\n  const moveDraggableElement = useCallback(\n    (uid, newIndex) => {\n      const { draggableElement } =\n        findDraggableElement(uid);\n      dispatch(\n        udpadeElementsOrder({\n          draggableElement,\n          newIndex,\n        })\n      );\n    },\n    [findDraggableElement, dispatch]\n  );\n\n  const [, sortTarget] = useDrop(() => ({\n    accept: 'DraggableItem',\n  }));\n\n  const isConstructorEmpty = !bunElement._id && !draggableElements.length;\n\n  const constructorElementsClass = `${constructorStyles.constructor__elements} \n  ${\n    (isConstructorEmpty || isDragging) &&\n    constructorStyles.constructor__elements_dropArea\n  } \n  ${isHover && isCanDrop ? constructorStyles.constructor__elements_canDrop : ''}\n  ${\n    isHover && !isCanDrop\n      ? constructorStyles.constructor__elements_canNotDrop\n      : ''\n  }`;\n\n  const totalPrice = useMemo(() => {\n    const bunsPrice = bunElement.type === 'bun' ? bunElement.price * 2 : 0;\n    const nonBunElementsPrice = draggableElements.reduce(\n      (acc, item) => acc + item.price,\n      0\n    );\n    return bunsPrice + nonBunElementsPrice;\n  }, [bunElement, draggableElements]);\n\n  const onClickToOrderButton = () => {\n    dispatch(postOrder([bunElement, ...draggableElements]));\n  };\n\n  const onClickToIngredient = (e) => onOpenModalWithIngredient(e);\n\n  return (\n    <section className=\"pt-25 pb-2 pl-4\">\n      <ul className={constructorElementsClass} ref={dropTarget}>\n        {bunElement.type === 'bun' && (\n          <li\n            className={`${constructorStyles.constructor__bunElement} mr-4 mb-4`}\n            onClick={onClickToIngredient}\n            onKeyPress={onClickToIngredient}\n            data-id={bunElement._id}\n          >\n            <ConstructorElement\n              type=\"top\"\n              text={`${bunElement.name} (верх)`}\n              price={bunElement.price}\n              thumbnail={bunElement.image}\n              isLocked\n            />\n          </li>\n        )}\n        <ul\n          className={`${constructorStyles.constructor__nonBunElements} ${appStyles.scroll}`}\n          ref={sortTarget}\n        >\n          {isConstructorEmpty && (\n            <p\n              className={`${constructorStyles.constructor__text} mt-10\n              text text text_type_main-medium text_color_inactive`}\n            >\n              Перетащите элемент в конструктор. Сначала добавьте булочку\n            </p>\n          )}\n          {draggableElements.map((item) => (\n            <DraggableItem\n              key={item.uid}\n              id={item._id}\n              uid={item.uid}\n              name={item.name}\n              price={item.price}\n              image={item.image}\n              onClickToIngredient={onClickToIngredient}\n              findDraggableElement={findDraggableElement}\n              moveDraggableElement={moveDraggableElement}\n            />\n          ))}\n        </ul>\n        {bunElement.type === 'bun' && (\n          <li\n            className={`${constructorStyles.constructor__bunElement} mt-4 mr-4`}\n            onClick={onClickToIngredient}\n            onKeyPress={onClickToIngredient}\n            data-id={bunElement._id}\n          >\n            <ConstructorElement\n              type=\"bottom\"\n              text={`${bunElement.name} (низ)`}\n              price={bunElement.price}\n              thumbnail={bunElement.image}\n              isLocked\n            />\n          </li>\n        )}\n      </ul>\n      <div\n        className={`${constructorStyles.constructor__totalPriceContainer} mt-10 mr-4`}\n      >\n        <div className={`${constructorStyles.constructor__totalPrice} mr-10`}>\n          <span className=\"text text_type_digits-medium mr-2\">\n            {totalPrice}\n          </span>\n          <CurrencyIcon />\n        </div>\n        <Button\n          type=\"primary\"\n          size=\"medium\"\n          onClick={onClickToOrderButton}\n          disabled={totalPrice === 0}\n          name=\"orderSubmitButton\"\n          htmlType=\"submit\"\n        >\n          {orderRequest ? 'Создаем заказ...' : 'Оформить заказ'}\n        </Button>\n      </div>\n    </section>\n  );\n}\n\nBurgerConstructor.propTypes = {\n  onOpenModalWithIngredient: PropTypes.func.isRequired,\n};\n\nexport default BurgerConstructor;\n","export default __webpack_public_path__ + \"static/media/done.6d4020a5.svg\";","import { useSelector } from 'react-redux';\nimport orderStyles from './order-details.module.css';\nimport doneImage from '../../images/done.svg';\n\nfunction OrderDetails() {\n  const orderNumber = useSelector((state) => state.order.orderNumber);\n\n  return (\n    <div className={orderStyles.order}>\n      <div\n        className={`${orderStyles.order__number} text text_type_digits-large pt-15 pb-8`}\n      >\n        {orderNumber}\n      </div>\n      <p className=\"text text_type_main-medium\">идентификатор заказа</p>\n      <img\n        className={`${orderStyles.order__image} pt-15 pb-15`}\n        src={doneImage}\n        alt=\"заказ сформирован\"\n      />\n      <p className=\"text text_type_main-default\">Ваш заказ начали готовить</p>\n      <p className=\"text text_type_main-default text_color_inactive pt-2 pb-15\">\n        Дождитесь готовности на орбитальной станции\n      </p>\n    </div>\n  );\n}\n\nexport default OrderDetails;\n","import PropTypes from 'prop-types';\nimport ingredientDetailsStyles from './ingredient-details.module.css';\n\nfunction IngredientDetails({\n  image,\n  name,\n  fat,\n  carbohydrates,\n  calories,\n  proteins,\n}) {\n  return (\n    <div className={ingredientDetailsStyles.ingredient}>\n      <img\n        className={`${ingredientDetailsStyles.ingredient__image} pb-4`}\n        src={image}\n        alt={name}\n      />\n      <p\n        className={`${ingredientDetailsStyles.ingredient__name} text text_type_main-medium pb-8`}\n      >\n        {name}\n      </p>\n      <div className={`${ingredientDetailsStyles.ingredient__compounds}`}>\n        <div className={`${ingredientDetailsStyles.ingredient__compound}`}>\n          <p className=\"text text_type_main-default text_color_inactive pb-2\">\n            Калории, ккал\n          </p>\n          <span className=\"text text_type_digits-default text_color_inactive\">\n            {calories}\n          </span>\n        </div>\n        <div className={`${ingredientDetailsStyles.ingredient__compound}`}>\n          <p className=\"text text_type_main-default text_color_inactive pb-2\">\n            Белки, г\n          </p>\n          <span className=\"text text_type_digits-default text_color_inactive\">\n            {proteins}\n          </span>\n        </div>\n        <div className={`${ingredientDetailsStyles.ingredient__compound}`}>\n          <p className=\"text text_type_main-default text_color_inactive pb-2\">\n            Жиры, г\n          </p>\n          <span className=\"text text_type_digits-default text_color_inactive\">\n            {fat}\n          </span>\n        </div>\n        <div className={`${ingredientDetailsStyles.ingredient__compound}`}>\n          <p className=\"text text_type_main-default text_color_inactive pb-2\">\n            Углеводы, г\n          </p>\n          <span className=\"text text_type_digits-default text_color_inactive\">\n            {carbohydrates}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nIngredientDetails.propTypes = {\n  image: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  fat: PropTypes.number.isRequired,\n  carbohydrates: PropTypes.number.isRequired,\n  calories: PropTypes.number.isRequired,\n  proteins: PropTypes.number.isRequired,\n};\n\nexport default IngredientDetails;\n","import PropTypes from 'prop-types';\nimport Modal from 'components/modal/modal';\n\nfunction LoadingIndicatorHOC({\n  isLoading,\n  hasError,\n  gotData,\n  children,\n  onErrorModalClose,\n}) {\n  return (\n    <>\n      {isLoading && (\n        <p className=\"text text_type_main-medium text_color_inactive pt-10\">\n          Загрузка...\n        </p>\n      )}\n      {hasError && (\n        <Modal title=\"Произошла ошибка\" onClose={onErrorModalClose}>\n          <p className=\"text text_type_main-medium text_color_inactive pt-10\">\n            Пожалуйста, повторите попытку позднее\n          </p>\n        </Modal>\n      )}\n      {!isLoading && !hasError && gotData && children}\n    </>\n  );\n}\n\nLoadingIndicatorHOC.propTypes = {\n  children: PropTypes.node.isRequired,\n  onErrorModalClose: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  hasError: PropTypes.bool.isRequired,\n  gotData: PropTypes.bool.isRequired,\n};\n\nexport default LoadingIndicatorHOC;\n","/* eslint-disable func-names */\n/* eslint-disable no-console */\nimport { api } from 'utils/api';\n\n/*\n * типы экшенов\n */\nexport const GET_INGREDIENTS_REQUEST = 'GET_INGREDIENTS_REQUEST';\nexport const GET_INGREDIENTS_SUCCESS = 'GET_INGREDIENTS_SUCCESS';\nexport const GET_INGREDIENTS_FAILED = 'GET_INGREDIENTS_FAILED';\nexport const SET_INGREDIENT_TO_VIEW = 'SET_INGREDIENT_TO_VIEW';\nexport const RESET_INGREDIENT_TO_VIEW = 'RESET_INGREDIENT_TO_VIEW';\nexport const RESET_INGREDIENTS = 'RESET_INGREDIENTS';\n\n/*\n * генераторы экшенов\n */\n\nexport function setIngredientToView(ingredient) {\n  return { type: SET_INGREDIENT_TO_VIEW, payload: ingredient };\n}\n\nexport function resetIngredientToView() {\n  return { type: RESET_INGREDIENT_TO_VIEW };\n}\n\nexport function resetIngredients() {\n  return { type: RESET_INGREDIENTS };\n}\n\nfunction getIngredientsSuccess(ingredients) {\n  return { type: GET_INGREDIENTS_SUCCESS, ingredients };\n}\n\nfunction getIngredientsRequest() {\n  return { type: GET_INGREDIENTS_REQUEST };\n}\n\nfunction getIngredientsFailed() {\n  return { type: GET_INGREDIENTS_FAILED };\n}\n\nexport function getIngredientsData() {\n  return function (dispatch) {\n    dispatch(getIngredientsRequest());\n    api\n      .getIngredients()\n      .then((res) => {\n        if (res && res.success) {\n          dispatch(getIngredientsSuccess(res.data));\n        } else {\n          dispatch(getIngredientsFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(getIngredientsFailed());\n        console.log(`Ошибка загрузки ингредиентов: ${err}`);\n      });\n  };\n}\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport Modal from 'components/modal/modal';\nimport appStyles from 'components/app/app.module.css';\nimport AppHeader from 'components/app-header/app-header';\nimport BurgerIngredients from 'components/burger-ingredients/burger-ingredients';\nimport BurgerConstructor from 'components/burger-constructor/burger-constructor';\nimport OrderDetails from 'components/order-details/order-details';\nimport IngredientDetails from 'components/ingredient-details/ingredient-details';\nimport LoadingIndicatorHOC from 'components/loading-indicator-hoc/loading-indicator-hoc';\nimport {\n  resetIngredientToView,\n  resetIngredients,\n  setIngredientToView,\n  getIngredientsData,\n} from 'services/actions/ingredients';\nimport { resetOrder } from 'services/actions/order';\n\nfunction App() {\n  const {\n    ingredients,\n    ingredientToView,\n    ingredientsRequest,\n    ingredientsFailed,\n    orderNumber,\n    orderFailed,\n  } = useSelector((state) => ({\n    ingredients: state.burgerIngredients.ingredients,\n    ingredientToView: state.burgerIngredients.ingredientToView,\n    ingredientsRequest: state.burgerIngredients.ingredientsRequest,\n    ingredientsFailed: state.burgerIngredients.ingredientsFailed,\n    orderNumber: state.order.orderNumber,\n    orderFailed: state.order.orderFailed,\n  }));\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getIngredientsData());\n  }, [dispatch]);\n\n  const handleIngredientModalOpen = (e) => {\n    if (!e.target.closest('.constructor-element__action')) {\n      // если в конструкторе нажата кнопка \"Удалить ингредиент\", не открывать попап\n      const ingredientId = e.target.closest('li').dataset.id;\n      dispatch(\n        setIngredientToView(\n          ingredients.find((item) => item._id === ingredientId)\n        )\n      );\n    }\n  };\n\n  const handleIngredientModalClose = () => {\n    dispatch(resetIngredientToView());\n  };\n\n  const handleErrorModalClose = () => {\n    dispatch(resetIngredients());\n  };\n\n  const handleOrderModalClose = () => {\n    dispatch(resetOrder());\n  };\n\n  /* eslint-disable react/jsx-no-constructed-context-values */\n  return (\n    <>\n      <AppHeader />\n      <main className={appStyles.page}>\n        <LoadingIndicatorHOC\n          isLoading={ingredientsRequest}\n          hasError={ingredientsFailed}\n          gotData={Boolean(ingredients.length)}\n          onErrorModalClose={handleErrorModalClose}\n        >\n          <DndProvider backend={HTML5Backend}>\n            <BurgerIngredients\n              onOpenModalWithIngredient={handleIngredientModalOpen}\n            />\n            <BurgerConstructor\n              onOpenModalWithIngredient={handleIngredientModalOpen}\n            />\n          </DndProvider>\n          {ingredientToView && (\n            <Modal\n              title=\"Детали ингредиента\"\n              onClose={handleIngredientModalClose}\n            >\n              <IngredientDetails\n                image={ingredientToView.image}\n                name={ingredientToView.name}\n                fat={ingredientToView.fat}\n                carbohydrates={ingredientToView.carbohydrates}\n                calories={ingredientToView.calories}\n                proteins={ingredientToView.proteins}\n              />\n            </Modal>\n          )}\n          <LoadingIndicatorHOC\n            isLoading={false}\n            hasError={orderFailed}\n            gotData={Boolean(orderNumber)}\n            onErrorModalClose={handleOrderModalClose}\n          >\n            <Modal onClose={handleOrderModalClose}>\n              <OrderDetails />\n            </Modal>\n          </LoadingIndicatorHOC>\n        </LoadingIndicatorHOC>\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","/* eslint-disable default-param-last */\nimport {\n  GET_INGREDIENTS_REQUEST,\n  GET_INGREDIENTS_SUCCESS,\n  GET_INGREDIENTS_FAILED,\n  SET_INGREDIENT_TO_VIEW,\n  RESET_INGREDIENT_TO_VIEW,\n  RESET_INGREDIENTS\n} from 'services/actions/ingredients';\n\nconst ingredientsInitialState = {\n  ingredients: [],\n  ingredientToView: null,\n  ingredientsRequest: false,\n  ingredientsFailed: false,\n};\n\nexport default (state = ingredientsInitialState, action) => {\n  switch (action.type) {\n    case GET_INGREDIENTS_REQUEST: {\n      return {\n        ...state,\n        ingredientsRequest: true,\n      };\n    }\n    case GET_INGREDIENTS_SUCCESS: {\n      return {\n        ...state,\n        ingredientsFailed: false,\n        ingredients: action.ingredients,\n        ingredientsRequest: false,\n      };\n    }\n    case GET_INGREDIENTS_FAILED: {\n      return { ...state, ingredientsFailed: true, ingredientsRequest: false };\n    }\n    case SET_INGREDIENT_TO_VIEW: {\n      return { ...state, ingredientToView: action.payload };\n    }\n    case RESET_INGREDIENT_TO_VIEW: {\n      return { ...state, ingredientToView: null };\n    }\n    case RESET_INGREDIENTS: {\n      return ingredientsInitialState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","/* eslint-disable default-param-last */\nimport {\n  ADD_BUN_ELEMENT,\n  ADD_NON_BUN_ELEMENT,\n  DELETE_ELEMENT,\n  UPDATE_ELEMENTS_ORDER,\n  RESET_CONSTRUCTOR,\n} from 'services/actions/constructor';\nimport update from 'immutability-helper';\n\nconst constructorInitialState = {\n  bunElement: {},\n  draggableElements: [],\n};\n\nexport default (state = constructorInitialState, action) => {\n  switch (action.type) {\n    case ADD_BUN_ELEMENT: {\n      return { ...state, bunElement: action.payload };\n    }\n    case ADD_NON_BUN_ELEMENT: {\n      return {\n        ...state,\n        draggableElements: state.draggableElements.concat(action.payload),\n      };\n    }\n    case DELETE_ELEMENT: {\n      return {\n        ...state,\n        draggableElements: state.draggableElements.filter(\n          (item) => item.uid !== action.uid\n        ),\n      };\n    }\n    case UPDATE_ELEMENTS_ORDER: {\n      const oldIndex = state.draggableElements.indexOf(action.draggableElement);\n      return {\n        ...state,\n        draggableElements: update(state.draggableElements, {\n          $splice: [\n            [oldIndex, 1],\n            [action.newIndex, 0, action.draggableElement],\n          ],\n        }),\n      };\n    }\n    case RESET_CONSTRUCTOR: {\n      return constructorInitialState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","/* eslint-disable default-param-last */\nimport {\n  POST_ORDER_REQUEST,\n  POST_ORDER_SUCCESS,\n  POST_ORDER_FAILED,\n  RESET_ORDER\n} from 'services/actions/order';\n\nconst orderInitialState = {\n  orderNumber: null,\n  orderRequest: false,\n  orderFailed: false,\n};\n\nexport default (state = orderInitialState, action) => {\n  switch (action.type) {\n    case POST_ORDER_REQUEST: {\n      return {\n        ...state,\n        orderRequest: true,\n      };\n    }\n    case POST_ORDER_SUCCESS: {\n      return {\n        ...state,\n        orderFailed: false,\n        orderNumber: action.orderNumber,\n        orderRequest: false,\n      };\n    }\n    case POST_ORDER_FAILED: {\n      return { ...state, orderFailed: true, orderRequest: false };\n    }\n    case RESET_ORDER: {\n      return orderInitialState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { combineReducers } from 'redux';\nimport burgerIngredients from 'services/reducers/ingredients';\nimport burgerConstructor from 'services/reducers/constructor';\nimport order from 'services/reducers/order';\n\nconst rootReducer = combineReducers({\n  burgerIngredients,\n  burgerConstructor,\n  order\n});\n\nexport default rootReducer;\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\n//  Подключаем расширение React Devtools к приложению\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\n\n// Инициализируем хранилище с помощью корневого редьюсера, подключаем  Redux Devtools и усилители\nconst store = createStore(rootReducer, enhancer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './components/app/app';\nimport store from './services/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"app_page__xu4mx\",\"scroll\":\"app_scroll__1ZMNu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"header__container\":\"app-header_header__container__1zQvH\",\"header__navigation\":\"app-header_header__navigation__2N-rI\",\"header__logo\":\"app-header_header__logo__27E10\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient__сard\":\"burger-ingredient_ingredient__сard__zgE2z\",\"ingredient__сard_isDragging\":\"burger-ingredient_ingredient__сard_isDragging__39uQp\",\"ingredient__price\":\"burger-ingredient_ingredient__price__Zb6Pu\",\"ingredient__name\":\"burger-ingredient_ingredient__name__1XA3f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__tabContainer\":\"burger-ingredients_ingredients__tabContainer__3aRpQ\",\"ingredients__list\":\"burger-ingredients_ingredients__list__2rRB8\",\"ingredient__category\":\"burger-ingredients_ingredient__category__2v9Jj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1DF1f\",\"modal__title\":\"modal_modal__title__CykZc\",\"modal__closeIcon\":\"modal_modal__closeIcon__2BB1n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"order-details_order__12ZdD\",\"order__number\":\"order-details_order__number__g-Ijp\",\"order__image\":\"order-details_order__image__1UwKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"draggableElement\":\"draggable-item_draggableElement__1G66w\",\"draggableElement_isDragging\":\"draggable-item_draggableElement_isDragging__J3B_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__AKixE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation__link\":\"navigation-link_navigation__link__KGGEA\"};"],"sourceRoot":""}