{"version":3,"sources":["components/burger-constructor/burger-constructor.module.css","components/ingredient-details/ingredient-details.module.css","utils/constants.jsx","utils/api.jsx","services/actions/ingredients.jsx","services/reducers/ingredients.jsx","services/actions/constructor.jsx","services/reducers/constructor.jsx","services/actions/order.jsx","services/reducers/order.jsx","services/reducers/index.jsx","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","components/navigation-link/navigation-link.jsx","components/app-header/app-header.jsx","components/burger-ingredient/burger-ingredient.jsx","components/burger-ingredients/burger-ingredients.jsx","components/draggable-item/draggable-item.jsx","components/burger-constructor/burger-constructor.jsx","images/done.svg","components/order-details/order-details.jsx","components/ingredient-details/ingredient-details.jsx","components/loading-indicator-hoc/loading-indicator-hoc.jsx","components/app/app.jsx","index.jsx","components/app/app.module.css","components/app-header/app-header.module.css","components/burger-ingredient/burger-ingredient.module.css","components/burger-ingredients/burger-ingredients.module.css","components/modal/modal.module.css","components/order-details/order-details.module.css","components/draggable-item/draggable-item.module.css","components/modal-overlay/modal-overlay.module.css","components/navigation-link/navigation-link.module.css"],"names":["module","exports","portal","document","getElementById","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","Error","status","fetch","then","_checkResponse","ingredients","method","body","JSON","stringify","GET_INGREDIENTS_REQUEST","GET_INGREDIENTS_SUCCESS","GET_INGREDIENTS_FAILED","SET_INGREDIENT_TO_VIEW","RESET_INGREDIENT_TO_VIEW","RESET_INGREDIENTS","ingredientsInitialState","ingredientToView","ingredientsRequest","ingredientsFailed","ADD_BUN_ELEMENT","ADD_NON_BUN_ELEMENT","DELETE_ELEMENT","UPDATE_ELEMENTS_ORDER","RESET_CONSTRUCTOR","constructorInitialState","bunElement","draggableElements","POST_ORDER_REQUEST","POST_ORDER_SUCCESS","POST_ORDER_FAILED","RESET_ORDER","orderInitialState","orderNumber","orderRequest","orderFailed","rootReducer","combineReducers","burgerIngredients","state","action","type","payload","burgerConstructor","concat","filter","item","uid","newCards","update","$splice","oldIndex","newIndex","element","order","ModalOverlay","onClose","className","overlayStyles","overlay","onClick","onKeyPress","Modal","children","title","useEffect","handleEscPress","evt","key","addEventListener","removeEventListener","ReactDOM","createPortal","modalStyles","modal","modal__closeIcon","modal__title","NavigationLink","icon","isActive","onNavigationClick","navigtionTextStyle","href","navigationStyles","navigation__link","AppHeader","useState","currentPage","setCurrentPage","handleNavigationClick","headerStyles","header","header__container","header__navigation","header__logo","BurgerIngredient","id","image","price","name","onOpenModalWithIngredient","ingredientsInOrder","useSelector","useDrag","collect","monitor","isDragging","dragRef","dragPreview","onClickToIngredient","e","ingredientsCounter","_id","length","ingredientStyles","ingredient__сard","ingredient__сard_isDragging","ref","DragPreviewImage","src","connect","alt","count","size","ingredient__price","ingredient__name","BurgerIngredients","ingredientTypes","bun","useRef","sauce","main","currentTab","setCurrentTab","handleTabClick","useCallback","tabName","current","scrollIntoView","behavior","ingredientsByType","Object","keys","map","items","el","ingredientsStyles","ingredients__container","ingredients__tabContainer","values","index","value","active","ingredients__list","appStyles","scroll","onScroll","scrollPosition","target","scrollTop","positionOfSauseSection","offsetTop","positionOfMainSection","ingredient__category","DraggableItem","findDraggableElement","moveDraggableElement","dispatch","useDispatch","originalIndex","draggableElementIndex","end","_","didDrop","useDrop","accept","hover","draggedUid","overIndex","dropTarget","draggableItemStyles","draggableElement","draggableElement_isDragging","node","text","thumbnail","handleClose","itemToDeleteUid","closest","dataset","BurgerConstructor","handleIngredientDrop","draggedItem","find","uuidv4","handleCanIngredientDrop","drop","itemId","canDrop","isHover","isOver","isCanDrop","indexOf","atIndex","sortTarget","isConstructorEmpty","constructorElementsClass","constructorStyles","constructor__elements","constructor__elements_dropArea","constructor__elements_canDrop","constructor__elements_canNotDrop","totalPrice","useMemo","reduce","acc","constructor__bunElement","isLocked","constructor__nonBunElements","constructor__text","constructor__totalPriceContainer","constructor__totalPrice","ingredientsData","postOrder","success","number","catch","err","console","log","disabled","htmlType","OrderDetails","orderStyles","order__number","order__image","doneImage","IngredientDetails","fat","carbohydrates","calories","proteins","ingredientDetailsStyles","ingredient","ingredient__image","ingredient__compounds","ingredient__compound","LoadingIndicatorHOC","isLoading","hasError","gotData","onErrorModalClose","App","getIngredients","data","handleIngredientModalOpen","ingredientId","handleOrderModalClose","page","Boolean","DndProvider","backend","HTML5Backend","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","render","StrictMode"],"mappings":"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","file":"static/js/main.d5082180.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"constructor__elements\":\"burger-constructor_constructor__elements__cuaLn\",\"constructor__elements_dropArea\":\"burger-constructor_constructor__elements_dropArea__XgeNC\",\"constructor__elements_canDrop\":\"burger-constructor_constructor__elements_canDrop__1Itgz\",\"constructor__elements_canNotDrop\":\"burger-constructor_constructor__elements_canNotDrop__Loy8D\",\"constructor__bunElement\":\"burger-constructor_constructor__bunElement__15ixT\",\"constructor__nonBunElements\":\"burger-constructor_constructor__nonBunElements__3Ni4f\",\"constructor__totalPriceContainer\":\"burger-constructor_constructor__totalPriceContainer__3S0-0\",\"constructor__totalPrice\":\"burger-constructor_constructor__totalPrice__24T16\",\"constructor__text\":\"burger-constructor_constructor__text__29Utu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"ingredient-details_ingredient__2hFcT\",\"ingredient__name\":\"ingredient-details_ingredient__name__2xadH\",\"ingredient__image\":\"ingredient-details_ingredient__image__3mDBz\",\"ingredient__compounds\":\"ingredient-details_ingredient__compounds__3fcIW\",\"ingredient__compound\":\"ingredient-details_ingredient__compound__3rw40\"};","export const BASE_URL = 'https://norma.nomoreparties.space/api';\n// параметры для работы с api сервера\nexport const portal = document.getElementById('react-portal');\n","import { BASE_URL } from './constants';\n\nexport default class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  /**\n   * проверка ответа сервера на корректность:\n   * неуспешные запросы и ответы в fetch все равно резолвят промис,\n   * поэтому важно проверять булевское значение res.ok */\n\n  /**\n   * @params res - промис полученный от сервера с помощью fetch\n   * @returns в случае успешного ответа - json с данными, иначе - реджект промиса\n   */\n  // eslint-disable-next-line class-methods-use-this\n  _checkResponse(res) {\n    if (res.ok) return res.json();\n    return Promise.reject(new Error(`Ошибка запроса на сервер: ${res.status}`));\n  }\n\n  /**\n   * GET запрос данных со списком ингредиентов с сервера */\n\n  /**\n   * @returns промис полученный от сервера с помощью fetch\n   */\n  getIngredients() {\n    return fetch(`${this._baseUrl}/ingredients`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  /**\n   * POST запрос с данными заказа на сервер */\n\n  /**\n   * @returns промис полученный от сервера с помощью fetch\n   */\n  postOrder(ingredients) {\n    return fetch(`${this._baseUrl}/orders`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        ingredients,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n","/* eslint-disable func-names */\n/* eslint-disable no-console */\nimport { api } from 'utils/api';\n\nexport const GET_INGREDIENTS_REQUEST = 'GET_INGREDIENTS_REQUEST';\nexport const GET_INGREDIENTS_SUCCESS = 'GET_INGREDIENTS_SUCCESS';\nexport const GET_INGREDIENTS_FAILED = 'GET_INGREDIENTS_FAILED';\nexport const SET_INGREDIENT_TO_VIEW = 'SET_INGREDIENT_TO_VIEW';\nexport const RESET_INGREDIENT_TO_VIEW = 'RESET_INGREDIENT_TO_VIEW';\nexport const RESET_INGREDIENTS = 'RESET_INGREDIENTS';\n\nexport function getIngredientsData() {\n  return function (dispatch) {\n    dispatch({\n      type: GET_INGREDIENTS_REQUEST,\n    });\n    api\n      .getIngredients()\n      .then((res) => {\n        if (res && res.success) {\n          dispatch({\n            type: GET_INGREDIENTS_SUCCESS,\n            ingredients: res.data,\n          });\n        } else {\n          dispatch({\n            type: GET_INGREDIENTS_FAILED,\n          });\n        }\n      })\n      .catch((err) => {\n        dispatch({\n          type: GET_INGREDIENTS_FAILED,\n        });\n        console.log(`Ошибка загрузки ингредиентов: ${err}`);\n      });\n  };\n}\n","/* eslint-disable default-param-last */\nimport {\n  GET_INGREDIENTS_REQUEST,\n  GET_INGREDIENTS_SUCCESS,\n  GET_INGREDIENTS_FAILED,\n  SET_INGREDIENT_TO_VIEW,\n  RESET_INGREDIENT_TO_VIEW,\n  RESET_INGREDIENTS\n} from 'services/actions/ingredients';\n\nconst ingredientsInitialState = {\n  ingredients: [],\n  ingredientToView: null,\n  ingredientsRequest: false,\n  ingredientsFailed: false,\n};\n\nexport default (state = ingredientsInitialState, action) => {\n  switch (action.type) {\n    case GET_INGREDIENTS_REQUEST: {\n      return {\n        ...state,\n        ingredientsRequest: true,\n      };\n    }\n    case GET_INGREDIENTS_SUCCESS: {\n      return {\n        ...state,\n        ingredientsFailed: false,\n        ingredients: action.ingredients,\n        ingredientsRequest: false,\n      };\n    }\n    case GET_INGREDIENTS_FAILED: {\n      return { ...state, ingredientsFailed: true, ingredientsRequest: false };\n    }\n    case SET_INGREDIENT_TO_VIEW: {\n      return { ...state, ingredientToView: action.payload };\n    }\n    case RESET_INGREDIENT_TO_VIEW: {\n      return { ...state, ingredientToView: null };\n    }\n    case RESET_INGREDIENTS: {\n      return ingredientsInitialState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","export const ADD_BUN_ELEMENT = 'ADD_BUN_ELEMENT';\nexport const ADD_NON_BUN_ELEMENT = 'ADD_NON_BUN_ELEMENT';\nexport const DELETE_ELEMENT = 'DELETE_ELEMENT';\nexport const UPDATE_ELEMENTS_ORDER = 'UPDATE_ELEMENTS_ORDER';\nexport const RESET_CONSTRUCTOR = 'RESET_CONSTRUCTOR';\n","/* eslint-disable default-param-last */\nimport {\n  ADD_BUN_ELEMENT,\n  ADD_NON_BUN_ELEMENT,\n  DELETE_ELEMENT,\n  UPDATE_ELEMENTS_ORDER,\n  RESET_CONSTRUCTOR,\n} from 'services/actions/constructor';\nimport update from 'immutability-helper';\n\nconst constructorInitialState = {\n  bunElement: {},\n  draggableElements: [],\n};\n\nexport default (state = constructorInitialState, action) => {\n  switch (action.type) {\n    case ADD_BUN_ELEMENT: {\n      return { ...state, bunElement: action.payload };\n    }\n    case ADD_NON_BUN_ELEMENT: {\n      return {\n        ...state,\n        draggableElements: state.draggableElements.concat(action.payload),\n      };\n    }\n    case DELETE_ELEMENT: {\n      return {\n        ...state,\n        draggableElements: state.draggableElements.filter(\n          (item) => item.uid !== action.uid\n        ),\n      };\n    }\n    case UPDATE_ELEMENTS_ORDER: {\n      const newCards = update(state.draggableElements, {\n        $splice: [\n          [action.oldIndex, 1],\n          [action.newIndex, 0, action.element],\n        ],\n      });\n      return {\n        ...state,\n        draggableElements: newCards,\n      };\n    }\n    case RESET_CONSTRUCTOR: {\n      return constructorInitialState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","/* eslint-disable func-names */\n/* eslint-disable no-console */\nimport { api } from 'utils/api';\nimport { RESET_CONSTRUCTOR } from 'services/actions/constructor';\n\nexport const POST_ORDER_REQUEST = 'POST_ORDER_REQUEST';\nexport const POST_ORDER_SUCCESS = 'POST_ORDER_SUCCESS';\nexport const POST_ORDER_FAILED = 'POST_ORDER_FAILED';\nexport const RESET_ORDER = 'RESET_ORDER';\n\nexport function postOrder(ingredientsData) {\n  return function (dispatch) {\n    dispatch({\n      type: POST_ORDER_REQUEST,\n    });\n    api\n      .postOrder(ingredientsData)\n      .then((res) => {\n        if (res && res.success) {\n          dispatch({\n            type: POST_ORDER_SUCCESS,\n            orderNumber: res.order.number,\n          });\n        } else {\n          dispatch({\n            type: POST_ORDER_FAILED,\n          });\n        }\n      })\n      .then(() => {\n        dispatch({\n          type: RESET_CONSTRUCTOR,\n        });\n      })\n      .catch((err) => {\n        dispatch({\n          type: POST_ORDER_FAILED,\n        });\n        console.log(`Ошибка оформления заказа: ${err}`);\n      });\n  };\n}\n","/* eslint-disable default-param-last */\nimport {\n  POST_ORDER_REQUEST,\n  POST_ORDER_SUCCESS,\n  POST_ORDER_FAILED,\n  RESET_ORDER\n} from 'services/actions/order';\n\nconst orderInitialState = {\n  orderNumber: null,\n  orderRequest: false,\n  orderFailed: false,\n};\n\nexport default (state = orderInitialState, action) => {\n  switch (action.type) {\n    case POST_ORDER_REQUEST: {\n      return {\n        ...state,\n        orderRequest: true,\n      };\n    }\n    case POST_ORDER_SUCCESS: {\n      return {\n        ...state,\n        orderFailed: false,\n        orderNumber: action.orderNumber,\n        orderRequest: false,\n      };\n    }\n    case POST_ORDER_FAILED: {\n      return { ...state, orderFailed: true, orderRequest: false };\n    }\n    case RESET_ORDER: {\n      return orderInitialState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { combineReducers } from 'redux';\nimport burgerIngredients from 'services/reducers/ingredients';\nimport burgerConstructor from 'services/reducers/constructor';\nimport order from 'services/reducers/order';\n\nconst rootReducer = combineReducers({\n  burgerIngredients,\n  burgerConstructor,\n  order\n});\n\nexport default rootReducer;\n","import PropTypes from 'prop-types';\nimport overlayStyles from './modal-overlay.module.css';\n\nfunction ModalOverlay({ onClose }) {\n  return (\n    <div\n      className={overlayStyles.overlay}\n      onClick={onClose}\n      onKeyPress={onClose}\n    />\n  );\n}\n\nModalOverlay.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ModalOverlay;\n","import { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport ModalOverlay from '../modal-overlay/modal-overlay';\nimport modalStyles from './modal.module.css';\nimport { portal } from '../../utils/constants';\n\nfunction Modal({ children, title = '', onClose }) {\n  useEffect(() => {\n    const handleEscPress = (evt) => {\n      if (evt.key === 'Escape') onClose(evt);\n    };\n    document.addEventListener('keydown', handleEscPress);\n    return () => document.removeEventListener('keydown', handleEscPress);\n  }, [onClose]);\n\n  return ReactDOM.createPortal(\n    <>\n      <ModalOverlay onClose={onClose} />\n      <div className={`${modalStyles.modal} pt-15 pr-30 pb-15 pl-30`}>\n        <div className={modalStyles.modal__closeIcon}>\n          <CloseIcon onClick={onClose} type=\"primary\" />\n        </div>\n        <h2\n          className={`${modalStyles.modal__title} text text_type_main-large pb-4`}\n        >\n          {title}\n        </h2>\n        {children}\n      </div>\n    </>,\n    portal\n  );\n}\n\nModal.propTypes = {\n  children: PropTypes.element.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import PropTypes from 'prop-types';\nimport navigationStyles from './navigation-link.module.css';\n\nfunction NavigationLink({\n  children,\n  title,\n  icon,\n  isActive,\n  onNavigationClick,\n}) {\n  const navigationClickHandler = () => {\n    onNavigationClick(title);\n  };\n\n  const navigtionTextStyle = !isActive ? 'text_color_inactive' : '';\n\n  return (\n    <a\n      href=\"/#\"\n      className={`${navigationStyles.navigation__link} pt-4 pr-5 pb-4 pl-5`}\n      onClick={navigationClickHandler}\n    >\n      {icon}\n      <p\n        className={`text text text_type_main-default ml-2 ${navigtionTextStyle}`}\n      >\n        {children}\n      </p>\n    </a>\n  );\n}\n\nNavigationLink.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.element.isRequired,\n  isActive: PropTypes.bool.isRequired,\n  onNavigationClick: PropTypes.func.isRequired,\n};\n\nexport default NavigationLink;\n","import { useState } from 'react';\nimport NavigationLink from 'components/navigation-link/navigation-link';\nimport {\n  BurgerIcon,\n  ListIcon,\n  ProfileIcon,\n  Logo,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport headerStyles from './app-header.module.css';\n\nfunction AppHeader() {\n  const [currentPage, setCurrentPage] = useState('constructor');\n\n  const handleNavigationClick = (title) => {\n    setCurrentPage(title);\n  };\n\n  return (\n    <header className={headerStyles.header}>\n      <div className={`${headerStyles.header__container} pt-4 pb-4`}>\n        <nav>\n          <ul className={headerStyles.header__navigation}>\n            <li>\n              <NavigationLink\n                title=\"constructor\"\n                icon={\n                  <BurgerIcon\n                    type={\n                      currentPage === 'constructor' ? 'primary' : 'secondary'\n                    }\n                  />\n                }\n                isActive={currentPage === 'constructor'}\n                onNavigationClick={handleNavigationClick}\n              >\n                Конструктор\n              </NavigationLink>\n            </li>\n            <li>\n              <NavigationLink\n                title=\"orderList\"\n                icon={\n                  <ListIcon\n                    type={currentPage === 'orderList' ? 'primary' : 'secondary'}\n                  />\n                }\n                isActive={currentPage === 'orderList'}\n                onNavigationClick={handleNavigationClick}\n              >\n                Лента заказов\n              </NavigationLink>\n            </li>\n            <li className={headerStyles.header__logo}>\n              <a href=\"/#\">\n                <Logo />\n              </a>\n            </li>\n            <li>\n              <NavigationLink\n                title=\"profile\"\n                icon={\n                  <ProfileIcon\n                    type={currentPage === 'profile' ? 'primary' : 'secondary'}\n                  />\n                }\n                isActive={currentPage === 'profile'}\n                onNavigationClick={handleNavigationClick}\n              >\n                Личный кабинет\n              </NavigationLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </header>\n  );\n}\n\nexport default AppHeader;\n","import { useDrag, DragPreviewImage } from 'react-dnd';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n  Counter,\n  CurrencyIcon,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport ingredientStyles from './burger-ingredient.module.css';\n\nfunction BurgerIngredient({\n  id,\n  image,\n  price,\n  name,\n  onOpenModalWithIngredient,\n}) {\n  const ingredientsInOrder = useSelector((state) => [\n    state.burgerConstructor.bunElement,\n    ...state.burgerConstructor.draggableElements,\n    state.burgerConstructor.bunElement,\n  ]);\n\n  const [{ isDragging }, dragRef, dragPreview] = useDrag(\n    {\n      type: 'BurgerIngredient',\n      item: { id },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n    },\n    [id]\n  );\n\n  const onClickToIngredient = (e) => onOpenModalWithIngredient(e);\n\n  const ingredientsCounter = ingredientsInOrder.filter(\n    (item) => item._id === id\n  ).length;\n\n  return (\n    <li\n      className={`${ingredientStyles.ingredient__сard} \n      ${isDragging && ingredientStyles.ingredient__сard_isDragging} mb-8`}\n      onClick={onClickToIngredient}\n      onKeyPress={onClickToIngredient}\n      ref={dragRef}\n      data-id={id}\n    >\n      <DragPreviewImage src={image} connect={dragPreview} />\n      <img src={image} alt={name} />\n      {ingredientsCounter !== 0 && (\n        <Counter count={ingredientsCounter} size=\"default\" />\n      )}\n      <div className={`${ingredientStyles.ingredient__price} mt-2 mb-2`}>\n        <span className=\"text text_type_digits-default mr-2\">{price}</span>\n        <CurrencyIcon />\n      </div>\n      <p\n        className={`${ingredientStyles.ingredient__name} text text text_type_main-default`}\n      >\n        {name}\n      </p>\n    </li>\n  );\n}\n\nBurgerIngredient.propTypes = {\n  onOpenModalWithIngredient: PropTypes.func.isRequired,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  image: PropTypes.string.isRequired,\n};\n\nexport default BurgerIngredient;\n","import { useState, useRef, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\nimport BurgerIngredient from 'components/burger-ingredient/burger-ingredient';\nimport ingredientsStyles from './burger-ingredients.module.css';\nimport appStyles from '../app/app.module.css';\n\nfunction BurgerIngredients({ onOpenModalWithIngredient }) {\n  const ingredients = useSelector(\n    (state) => state.burgerIngredients.ingredients\n  );\n\n  const ingredientTypes = {\n    bun: {\n      name: 'Булки',\n      ref: useRef(null),\n    },\n    sauce: {\n      name: 'Соусы',\n      ref: useRef(null),\n    },\n    main: {\n      name: 'Начинки',\n      ref: useRef(null),\n    },\n  };\n\n  const [currentTab, setCurrentTab] = useState('Булки');\n\n  const handleTabClick = useCallback(\n    ({ tabName, element }) =>\n      () => {\n        setCurrentTab(tabName);\n        element.current.scrollIntoView({ behavior: 'smooth' });\n      },\n    []\n  );\n\n  const groupIngredientsByType = () =>\n    Object.keys(ingredientTypes).map((key) => ({\n      name: ingredientTypes[key].name,\n      items: ingredients.filter((el) => el.type === key),\n      ref: ingredientTypes[key].ref,\n    }));\n\n  const ingredientsByType = groupIngredientsByType();\n\n  const handleSectionScroll = (e) => {\n    const container = e.target;\n    const scrollPosition = container.scrollTop;\n    const scrollOffset = 120;\n    const positionOfSauseSection = ingredientTypes.sauce.ref.current.offsetTop;\n    const positionOfMainSection = ingredientTypes.main.ref.current.offsetTop;\n    if (scrollPosition + scrollOffset <= positionOfSauseSection) {\n      setCurrentTab('Булки');\n    } else if (scrollPosition + scrollOffset <= positionOfMainSection) {\n      setCurrentTab('Соусы');\n    } else {\n      setCurrentTab('Начинки');\n    }\n  };\n\n  return (\n    <section className={ingredientsStyles.ingredients__container}>\n      <h1 className=\"text text_type_main-large mt-10 mb-5\">Соберите бургер</h1>\n      <nav>\n        <ul className={ingredientsStyles.ingredients__tabContainer}>\n          {Object.values(ingredientTypes).map((type, index) => (\n            <li key={index}>\n              <Tab\n                value={type.name}\n                active={currentTab === type.name}\n                onClick={handleTabClick({\n                  tabName: type.name,\n                  element: type.ref,\n                })}\n              >\n                {type.name}\n              </Tab>\n            </li>\n          ))}\n        </ul>\n      </nav>\n      <section\n        className={`${ingredientsStyles.ingredients__list} ${appStyles.scroll} pr-4 pl-4`}\n        onScroll={handleSectionScroll}\n      >\n        {ingredientsByType.map(({ name, items, ref }, index) => (\n          <>\n            <h2\n              className=\"text text_type_main-medium mt-10 mb-6\"\n              key={index}\n              ref={ref}\n            >\n              {name}\n            </h2>\n            <ul\n              className={`${ingredientsStyles.ingredient__category} pr-4 pl-4`}\n            >\n              {items.map((item) => (\n                <BurgerIngredient\n                  key={item._id}\n                  id={item._id}\n                  name={item.name}\n                  price={item.price}\n                  image={item.image}\n                  onOpenModalWithIngredient={onOpenModalWithIngredient}\n                />\n              ))}\n            </ul>\n          </>\n        ))}\n      </section>\n    </section>\n  );\n}\n\nBurgerIngredients.propTypes = {\n  onOpenModalWithIngredient: PropTypes.func.isRequired,\n};\n\nexport default BurgerIngredients;\n","import { useDispatch } from 'react-redux';\nimport { useDrag, DragPreviewImage, useDrop } from 'react-dnd';\nimport PropTypes from 'prop-types';\nimport {\n  ConstructorElement,\n  DragIcon,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport { DELETE_ELEMENT } from 'services/actions/constructor';\nimport draggableItemStyles from './draggable-item.module.css';\n\nfunction DraggableItem({\n  id,\n  uid,\n  name,\n  price,\n  image,\n  onClickToIngredient,\n  findDraggableElement,\n  moveDraggableElement,\n}) {\n  const dispatch = useDispatch();\n\n  const originalIndex = findDraggableElement(uid).draggableElementIndex;\n\n  const [{ isDragging }, dragRef, dragPreview] = useDrag(\n    () => ({\n      type: 'DraggableItem',\n      item: { uid, originalIndex },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n      end: (_, monitor) => {\n        if (!monitor.didDrop()) {\n          moveDraggableElement(uid, originalIndex);\n        }\n      },\n    }),\n    [uid, moveDraggableElement, originalIndex]\n  );\n\n  const [, dropTarget] = useDrop(\n    () => ({\n      accept: 'DraggableItem',\n      hover({ uid: draggedUid }) {\n        if (draggedUid !== uid) {\n          const { draggableElementIndex: overIndex } =\n            findDraggableElement(uid);\n          moveDraggableElement(draggedUid, overIndex);\n        }\n      },\n    }),\n    [findDraggableElement, moveDraggableElement]\n  );\n\n  const handleIngredientDelete = (e) => {\n    const itemToDeleteUid = e.target.closest('li').dataset.uid;\n    dispatch({\n      type: DELETE_ELEMENT,\n      uid: itemToDeleteUid,\n    });\n  };\n\n  return (\n    <li\n      className={`${draggableItemStyles.draggableElement} \n      ${\n        isDragging && draggableItemStyles.draggableElement_isDragging\n      } mb-4 ml-2`}\n      key={uid}\n      onClick={onClickToIngredient}\n      onKeyPress={onClickToIngredient}\n      data-id={id}\n      data-uid={uid}\n      ref={(node) => dragRef(dropTarget(node))}\n    >\n      <DragIcon type=\"primary\" />\n      <DragPreviewImage src={image} connect={dragPreview} />\n      <ConstructorElement\n        text={name}\n        price={price}\n        thumbnail={image}\n        handleClose={handleIngredientDelete}\n      />\n    </li>\n  );\n}\n\nDraggableItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  uid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  image: PropTypes.string.isRequired,\n  onClickToIngredient: PropTypes.func.isRequired,\n  findDraggableElement: PropTypes.func.isRequired,\n  moveDraggableElement: PropTypes.func.isRequired,\n};\n\nexport default DraggableItem;\n","import { useMemo, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useDrop } from 'react-dnd';\nimport PropTypes from 'prop-types';\nimport {\n  ConstructorElement,\n  CurrencyIcon,\n  Button,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {\n  ADD_BUN_ELEMENT,\n  ADD_NON_BUN_ELEMENT,\n  UPDATE_ELEMENTS_ORDER,\n} from 'services/actions/constructor';\nimport { postOrder } from 'services/actions/order';\nimport { v4 as uuidv4 } from 'uuid';\nimport DraggableItem from 'components/draggable-item/draggable-item';\nimport constructorStyles from './burger-constructor.module.css';\nimport appStyles from '../app/app.module.css';\n\nfunction BurgerConstructor({ onOpenModalWithIngredient }) {\n  const { ingredients, bunElement, draggableElements, orderRequest } =\n    useSelector((state) => ({\n      ingredients: state.burgerIngredients.ingredients,\n      bunElement: state.burgerConstructor.bunElement,\n      draggableElements: state.burgerConstructor.draggableElements,\n      orderRequest: state.order.orderRequest,\n    }));\n\n  const dispatch = useDispatch();\n\n  const handleIngredientDrop = ({ id }) => {\n    const draggedItem = ingredients.find((item) => item._id === id);\n    if (draggedItem.type === 'bun') {\n      dispatch({\n        type: ADD_BUN_ELEMENT,\n        payload: { ...draggedItem, uid: uuidv4() },\n      });\n    } else if (bunElement._id) {\n      // в конструкторе уже есть булка, можно добавить начинку\n      dispatch({\n        type: ADD_NON_BUN_ELEMENT,\n        payload: { ...draggedItem, uid: uuidv4() },\n      });\n    }\n  };\n\n  const handleCanIngredientDrop = ({ id }) => {\n    const draggedItem = ingredients.find((item) => item._id === id);\n    return !(!bunElement._id && draggedItem.type !== 'bun');\n    // если в конструкторе еще нет булки, добавить начинку нельзя\n  };\n\n  const [{ isHover, isCanDrop, isDragging }, dropTarget] = useDrop(\n    {\n      accept: 'BurgerIngredient',\n      drop(itemId) {\n        handleIngredientDrop(itemId);\n      },\n      canDrop(itemId) {\n        return handleCanIngredientDrop(itemId);\n      },\n      collect: (monitor) => ({\n        isHover: monitor.isOver(),\n        isCanDrop: monitor.canDrop(),\n        isDragging: monitor.canDrop() && !monitor.isOver(),\n      }),\n    },\n    [handleIngredientDrop, handleCanIngredientDrop]\n  );\n\n  const findDraggableElement = useCallback(\n    (uid) => {\n      const draggableElement = draggableElements.find(\n        (item) => item.uid === uid\n      );\n      return {\n        draggableElement,\n        draggableElementIndex: draggableElements.indexOf(draggableElement),\n      };\n    },\n    [draggableElements]\n  );\n\n  const moveDraggableElement = useCallback(\n    (uid, atIndex) => {\n      const { draggableElement, draggableElementIndex } =\n        findDraggableElement(uid);\n      dispatch({\n        type: UPDATE_ELEMENTS_ORDER,\n        element: draggableElement,\n        oldIndex: draggableElementIndex,\n        newIndex: atIndex,\n      });\n    },\n    [findDraggableElement, dispatch]\n  );\n\n  const [, sortTarget] = useDrop(() => ({\n    accept: 'DraggableItem',\n  }));\n\n  const isConstructorEmpty = !bunElement._id && !draggableElements.length;\n\n  const constructorElementsClass = `${constructorStyles.constructor__elements} \n  ${\n    (isConstructorEmpty || isDragging) &&\n    constructorStyles.constructor__elements_dropArea\n  } \n  ${isHover && isCanDrop ? constructorStyles.constructor__elements_canDrop : ''}\n  ${\n    isHover && !isCanDrop\n      ? constructorStyles.constructor__elements_canNotDrop\n      : ''\n  }`;\n\n  const totalPrice = useMemo(() => {\n    const bunsPrice = bunElement.type === 'bun' ? bunElement.price * 2 : 0;\n    const nonBunElementsPrice = draggableElements.reduce(\n      (acc, item) => acc + item.price,\n      0\n    );\n    return bunsPrice + nonBunElementsPrice;\n  }, [bunElement, draggableElements]);\n\n  const onClickToOrderButton = () => {\n    dispatch(postOrder([bunElement, ...draggableElements]));\n  };\n\n  const onClickToIngredient = (e) => onOpenModalWithIngredient(e);\n\n  return (\n    <section className=\"pt-25 pb-2 pl-4\">\n      <ul className={constructorElementsClass} ref={dropTarget}>\n        {bunElement.type === 'bun' && (\n          <li\n            className={`${constructorStyles.constructor__bunElement} mr-4 mb-4`}\n            onClick={onClickToIngredient}\n            onKeyPress={onClickToIngredient}\n            data-id={bunElement._id}\n          >\n            <ConstructorElement\n              type=\"top\"\n              text={`${bunElement.name} (верх)`}\n              price={bunElement.price}\n              thumbnail={bunElement.image}\n              isLocked\n            />\n          </li>\n        )}\n        <ul\n          className={`${constructorStyles.constructor__nonBunElements} ${appStyles.scroll}`}\n          ref={sortTarget}\n        >\n          {isConstructorEmpty && (\n            <p\n              className={`${constructorStyles.constructor__text} mt-10\n              text text text_type_main-medium text_color_inactive`}\n            >\n              Перетащите элемент в конструктор. Сначала добавьте булочку\n            </p>\n          )}\n          {draggableElements.map((item) => (\n            <DraggableItem\n              key={item.uid}\n              id={item._id}\n              uid={item.uid}\n              name={item.name}\n              price={item.price}\n              image={item.image}\n              onClickToIngredient={onClickToIngredient}\n              findDraggableElement={findDraggableElement}\n              moveDraggableElement={moveDraggableElement}\n            />\n          ))}\n        </ul>\n        {bunElement.type === 'bun' && (\n          <li\n            className={`${constructorStyles.constructor__bunElement} mt-4 mr-4`}\n            onClick={onClickToIngredient}\n            onKeyPress={onClickToIngredient}\n            data-id={bunElement._id}\n          >\n            <ConstructorElement\n              type=\"bottom\"\n              text={`${bunElement.name} (низ)`}\n              price={bunElement.price}\n              thumbnail={bunElement.image}\n              isLocked\n            />\n          </li>\n        )}\n      </ul>\n      <div\n        className={`${constructorStyles.constructor__totalPriceContainer} mt-10 mr-4`}\n      >\n        <div className={`${constructorStyles.constructor__totalPrice} mr-10`}>\n          <span className=\"text text_type_digits-medium mr-2\">\n            {totalPrice}\n          </span>\n          <CurrencyIcon />\n        </div>\n        <Button\n          type=\"primary\"\n          size=\"medium\"\n          onClick={onClickToOrderButton}\n          disabled={totalPrice === 0}\n          name=\"orderSubmitButton\"\n          htmlType=\"submit\"\n        >\n          {orderRequest ? 'Создаем заказ...' : 'Оформить заказ'}\n        </Button>\n      </div>\n    </section>\n  );\n}\n\nBurgerConstructor.propTypes = {\n  onOpenModalWithIngredient: PropTypes.func.isRequired,\n};\n\nexport default BurgerConstructor;\n","export default __webpack_public_path__ + \"static/media/done.6d4020a5.svg\";","import { useSelector } from 'react-redux';\nimport orderStyles from './order-details.module.css';\nimport doneImage from '../../images/done.svg';\n\nfunction OrderDetails() {\n  const orderNumber = useSelector((state) => state.order.orderNumber);\n\n  return (\n    <div className={orderStyles.order}>\n      <div\n        className={`${orderStyles.order__number} text text_type_digits-large pt-15 pb-8`}\n      >\n        {orderNumber}\n      </div>\n      <p className=\"text text_type_main-medium\">идентификатор заказа</p>\n      <img\n        className={`${orderStyles.order__image} pt-15 pb-15`}\n        src={doneImage}\n        alt=\"заказ сформирован\"\n      />\n      <p className=\"text text_type_main-default\">Ваш заказ начали готовить</p>\n      <p className=\"text text_type_main-default text_color_inactive pt-2 pb-15\">\n        Дождитесь готовности на орбитальной станции\n      </p>\n    </div>\n  );\n}\n\nexport default OrderDetails;\n","import PropTypes from 'prop-types';\nimport ingredientDetailsStyles from './ingredient-details.module.css';\n\nfunction IngredientDetails({\n  image,\n  name,\n  fat,\n  carbohydrates,\n  calories,\n  proteins,\n}) {\n  return (\n    <div className={ingredientDetailsStyles.ingredient}>\n      <img\n        className={`${ingredientDetailsStyles.ingredient__image} pb-4`}\n        src={image}\n        alt={name}\n      />\n      <p\n        className={`${ingredientDetailsStyles.ingredient__name} text text_type_main-medium pb-8`}\n      >\n        {name}\n      </p>\n      <div className={`${ingredientDetailsStyles.ingredient__compounds}`}>\n        <div className={`${ingredientDetailsStyles.ingredient__compound}`}>\n          <p className=\"text text_type_main-default text_color_inactive pb-2\">\n            Калории, ккал\n          </p>\n          <span className=\"text text_type_digits-default text_color_inactive\">\n            {calories}\n          </span>\n        </div>\n        <div className={`${ingredientDetailsStyles.ingredient__compound}`}>\n          <p className=\"text text_type_main-default text_color_inactive pb-2\">\n            Белки, г\n          </p>\n          <span className=\"text text_type_digits-default text_color_inactive\">\n            {proteins}\n          </span>\n        </div>\n        <div className={`${ingredientDetailsStyles.ingredient__compound}`}>\n          <p className=\"text text_type_main-default text_color_inactive pb-2\">\n            Жиры, г\n          </p>\n          <span className=\"text text_type_digits-default text_color_inactive\">\n            {fat}\n          </span>\n        </div>\n        <div className={`${ingredientDetailsStyles.ingredient__compound}`}>\n          <p className=\"text text_type_main-default text_color_inactive pb-2\">\n            Углеводы, г\n          </p>\n          <span className=\"text text_type_digits-default text_color_inactive\">\n            {carbohydrates}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nIngredientDetails.propTypes = {\n  image: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  fat: PropTypes.number.isRequired,\n  carbohydrates: PropTypes.number.isRequired,\n  calories: PropTypes.number.isRequired,\n  proteins: PropTypes.number.isRequired,\n};\n\nexport default IngredientDetails;\n","import PropTypes from 'prop-types';\nimport Modal from 'components/modal/modal';\n\nfunction LoadingIndicatorHOC({\n  isLoading,\n  hasError,\n  gotData,\n  children,\n  onErrorModalClose,\n}) {\n  return (\n    <>\n      {isLoading && (\n        <p className=\"text text_type_main-medium text_color_inactive pt-10\">\n          Загрузка...\n        </p>\n      )}\n      {hasError && (\n        <Modal title=\"Произошла ошибка\" onClose={onErrorModalClose}>\n          <p className=\"text text_type_main-medium text_color_inactive pt-10\">\n            Пожалуйста, повторите попытку позднее\n          </p>\n        </Modal>\n      )}\n      {!isLoading && !hasError && gotData && children}\n    </>\n  );\n}\n\nLoadingIndicatorHOC.propTypes = {\n  children: PropTypes.node.isRequired,\n  onErrorModalClose: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  hasError: PropTypes.bool.isRequired,\n  gotData: PropTypes.bool.isRequired,\n};\n\nexport default LoadingIndicatorHOC;\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport Modal from 'components/modal/modal';\nimport appStyles from 'components/app/app.module.css';\nimport AppHeader from 'components/app-header/app-header';\nimport BurgerIngredients from 'components/burger-ingredients/burger-ingredients';\nimport BurgerConstructor from 'components/burger-constructor/burger-constructor';\nimport OrderDetails from 'components/order-details/order-details';\nimport IngredientDetails from 'components/ingredient-details/ingredient-details';\nimport LoadingIndicatorHOC from 'components/loading-indicator-hoc/loading-indicator-hoc';\nimport {\n  RESET_INGREDIENTS,\n  RESET_INGREDIENT_TO_VIEW,\n  SET_INGREDIENT_TO_VIEW,\n  getIngredientsData,\n} from 'services/actions/ingredients';\nimport { RESET_ORDER } from 'services/actions/order';\n\nfunction App() {\n  const {\n    ingredients,\n    ingredientToView,\n    ingredientsRequest,\n    ingredientsFailed,\n    orderNumber,\n    orderFailed,\n  } = useSelector((state) => ({\n    ingredients: state.burgerIngredients.ingredients,\n    ingredientToView: state.burgerIngredients.ingredientToView,\n    ingredientsRequest: state.burgerIngredients.ingredientsRequest,\n    ingredientsFailed: state.burgerIngredients.ingredientsFailed,\n    orderNumber: state.order.orderNumber,\n    orderFailed: state.order.orderFailed,\n  }));\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getIngredientsData());\n  }, [dispatch]);\n\n  const handleIngredientModalOpen = (e) => {\n    if (!e.target.closest('.constructor-element__action')) {\n      // если в конструкторе нажата кнопка \"Удалить ингредиент\", не открывать попап\n      const ingredientId = e.target.closest('li').dataset.id;\n      dispatch({\n        type: SET_INGREDIENT_TO_VIEW,\n        payload: ingredients.find((item) => item._id === ingredientId),\n      });\n    }\n  };\n\n  const handleIngredientModalClose = () => {\n    dispatch({ type: RESET_INGREDIENT_TO_VIEW });\n  };\n\n  const handleErrorModalClose = () => {\n    dispatch({ type: RESET_INGREDIENTS });\n  };\n\n  const handleOrderModalClose = () => {\n    dispatch({ type: RESET_ORDER });\n  };\n\n  /* eslint-disable react/jsx-no-constructed-context-values */\n  return (\n    <>\n      <AppHeader />\n      <main className={appStyles.page}>\n        <LoadingIndicatorHOC\n          isLoading={ingredientsRequest}\n          hasError={ingredientsFailed}\n          gotData={Boolean(ingredients.length)}\n          onErrorModalClose={handleErrorModalClose}\n        >\n          <DndProvider backend={HTML5Backend}>\n            <BurgerIngredients\n              onOpenModalWithIngredient={handleIngredientModalOpen}\n            />\n            <BurgerConstructor\n              onOpenModalWithIngredient={handleIngredientModalOpen}\n            />\n          </DndProvider>\n          {ingredientToView && (\n            <Modal\n              title=\"Детали ингредиента\"\n              onClose={handleIngredientModalClose}\n            >\n              <IngredientDetails\n                image={ingredientToView.image}\n                name={ingredientToView.name}\n                fat={ingredientToView.fat}\n                carbohydrates={ingredientToView.carbohydrates}\n                calories={ingredientToView.calories}\n                proteins={ingredientToView.proteins}\n              />\n            </Modal>\n          )}\n          <LoadingIndicatorHOC\n            isLoading={false}\n            hasError={orderFailed}\n            gotData={Boolean(orderNumber)}\n            onErrorModalClose={handleOrderModalClose}\n          >\n            <Modal onClose={handleOrderModalClose}>\n              <OrderDetails />\n            </Modal>\n          </LoadingIndicatorHOC>\n        </LoadingIndicatorHOC>\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport './index.css';\nimport rootReducer from 'services/reducers/index';\nimport App from './components/app/app';\n// Корневой редьюсер, который обрабатывает экшены\n\n//  Подключаем расширение React Devtools к приложению\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\n\n// Инициализируем хранилище с помощью корневого редьюсера, подключаем  Redux Devtools и усилители\nconst store = createStore(rootReducer, enhancer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"app_page__xu4mx\",\"scroll\":\"app_scroll__1ZMNu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"header__container\":\"app-header_header__container__1zQvH\",\"header__navigation\":\"app-header_header__navigation__2N-rI\",\"header__logo\":\"app-header_header__logo__27E10\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient__сard\":\"burger-ingredient_ingredient__сard__zgE2z\",\"ingredient__сard_isDragging\":\"burger-ingredient_ingredient__сard_isDragging__39uQp\",\"ingredient__price\":\"burger-ingredient_ingredient__price__Zb6Pu\",\"ingredient__name\":\"burger-ingredient_ingredient__name__1XA3f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__tabContainer\":\"burger-ingredients_ingredients__tabContainer__3aRpQ\",\"ingredients__list\":\"burger-ingredients_ingredients__list__2rRB8\",\"ingredient__category\":\"burger-ingredients_ingredient__category__2v9Jj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1DF1f\",\"modal__title\":\"modal_modal__title__CykZc\",\"modal__closeIcon\":\"modal_modal__closeIcon__2BB1n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"order-details_order__12ZdD\",\"order__number\":\"order-details_order__number__g-Ijp\",\"order__image\":\"order-details_order__image__1UwKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"draggableElement\":\"draggable-item_draggableElement__1G66w\",\"draggableElement_isDragging\":\"draggable-item_draggableElement_isDragging__J3B_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__AKixE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation__link\":\"navigation-link_navigation__link__KGGEA\"};"],"sourceRoot":""}