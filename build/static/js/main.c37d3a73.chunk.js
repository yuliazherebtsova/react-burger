(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{11:function(e,t,n){e.exports={ingredient:"ingredient-details_ingredient__2hFcT",ingredient__name:"ingredient-details_ingredient__name__2xadH",ingredient__image:"ingredient-details_ingredient__image__3mDBz",ingredient__compounds:"ingredient-details_ingredient__compounds__3fcIW",ingredient__compound:"ingredient-details_ingredient__compound__3rw40"}},13:function(e,t,n){e.exports={constructor__container:"burger-constructor_constructor__container__1CvZc",constructor__bunTop:"burger-constructor_constructor__bunTop__3ppZ0",constructor__bunBottom:"burger-constructor_constructor__bunBottom__z61m4",constructor__nonBunElements:"burger-constructor_constructor__nonBunElements__3Ni4f",constructor__nonBunElement:"burger-constructor_constructor__nonBunElement__2cT11",constructor__totalContainer:"burger-constructor_constructor__totalContainer__2rYZp",constructor__totalPrice:"burger-constructor_constructor__totalPrice__24T16"}},155:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(25),i=n.n(a),o=(n(75),n(45)),s=n.n(o),_=n(9),d=n(66),l=n(12),u=n(18),m=n.n(u),j=n(19),b=n.n(j),p=n(67),x=n.n(p),g=n(4),h=n(0);var O=function(e){var t=e.children,n=e.title,r=e.currentPage,c=e.onNavigationClick,a=n===r,i=a?"primary":"secondary",o=a?"":"text_color_inactive";return Object(h.jsxs)("button",{className:"".concat(x.a.navigation__button," pt-4 pr-5 pb-4 pl-5"),onClick:function(){c(n)},children:["constructor"===n?Object(h.jsx)(g.BurgerIcon,{type:i}):"orderList"===n?Object(h.jsx)(g.ListIcon,{type:i}):"profile"===n?Object(h.jsx)(g.ProfileIcon,{type:i}):void 0,Object(h.jsx)("p",{className:"text text text_type_main-default ml-2 ".concat(o),children:t})]})};var f=function(){var e=Object(r.useState)("constructor"),t=Object(l.a)(e,2),n=t[0],c=t[1],a=function(e){c(e)};return Object(h.jsx)("header",{className:b.a.header,children:Object(h.jsx)("div",{className:"".concat(b.a.header__container," pt-4 pb-4"),children:Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{className:b.a.header__navigation,children:[Object(h.jsx)("li",{children:Object(h.jsx)(O,{title:"constructor",currentPage:n,onNavigationClick:a,children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})}),Object(h.jsx)("li",{children:Object(h.jsx)(O,{title:"orderList",currentPage:n,onNavigationClick:a,children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(h.jsx)("li",{className:b.a.header__logo,children:Object(h.jsx)("a",{href:"#",children:Object(h.jsx)(g.Logo,{})})}),Object(h.jsx)("li",{children:Object(h.jsx)(O,{title:"profile",currentPage:n,onNavigationClick:a,children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})})]})})})})},v=n(20),y=n.n(v),N=n(26),C=n.n(N);var k=function(e){var t=e.id,n=e.image,r=e.price,c=e.name,a=e.onOpenModal;return Object(h.jsxs)("li",{className:"".concat(C.a.ingredient__\u0441ard," mb-8"),onClick:function(){a({modalType:"ingredientInfo",itemId:t})},children:[Object(h.jsx)("img",{src:n,alt:c}),Object(h.jsx)(g.Counter,{count:1,size:"default"}),Object(h.jsxs)("div",{className:"".concat(C.a.ingredient__price," mt-2 mb-2"),children:[Object(h.jsx)("p",{className:"text text_type_digits-default mr-2",children:r}),Object(h.jsx)(g.CurrencyIcon,{})]}),Object(h.jsx)("p",{className:"".concat(C.a.ingredient__name," text text text_type_main-default"),children:c})]})},E=n(6),I=n.n(E);I.a.shape({_id:I.a.string.isRequired,name:I.a.string.isRequired,type:I.a.string.isRequired,proteins:I.a.number.isRequired,fat:I.a.number.isRequired,carbohydrates:I.a.number.isRequired,calories:I.a.number.isRequired,price:I.a.number.isRequired,image:I.a.string.isRequired,image_mobile:I.a.string.isRequired,image_large:I.a.string.isRequired,__v:I.a.number.isRequired});var B=function(e){var t=e.data,n=e.onOpenModal,c={bun:"\u0411\u0443\u043b\u043a\u0438",sauce:"\u0421\u043e\u0443\u0441\u044b",main:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"},a=Object(r.useState)("\u0411\u0443\u043b\u043a\u0438"),i=Object(l.a)(a,2),o=i[0],s=i[1],_=function(e){return s(e)},d=Object.keys(c).map((function(e){return{name:c[e],items:t.filter((function(t){return t.type===e}))}}));return Object(h.jsxs)("section",{className:y.a.ingredients__container,children:[Object(h.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(h.jsx)("nav",{children:Object(h.jsx)("ul",{className:y.a.ingredients__tabContainer,children:Object.values(c).map((function(e,t){return Object(h.jsx)("li",{children:Object(h.jsx)(g.Tab,{value:e,active:o===e,onClick:_,children:e})},t)}))})}),Object(h.jsx)("section",{className:"".concat(y.a.ingredients__list," ").concat(m.a.scroll," pr-4 pl-4"),children:d.map((function(e,t){var r=e.name,c=e.items;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"text text_type_main-medium mt-10 mb-6",children:r},t),Object(h.jsx)("ul",{className:"".concat(y.a.ingredient__category," pr-4 pl-4"),children:c.map((function(e){return Object(h.jsx)(k,{id:e._id,name:e.name,price:e.price,image:e.image,onOpenModal:n},e._id)}))})]})}))})]})},R=n(13),L=n.n(R);var q=function(e){var t=e.data,n=e.onOpenModalWithIngredient,c=e.onOpenModalWithOrder,a=function(e){n({itemId:e})},i=t.find((function(e){return"bun"===e.type})),o=Object(r.useMemo)((function(){return t.filter((function(e){return"bun"!==e.type})).map((function(e){return Object(_.a)(Object(_.a)({},e),{},{uid:(t=e._id,"".concat(t,"_").concat((new Date).getTime()))});var t}))}),[t]);return Object(h.jsxs)("section",{className:"".concat(L.a.constructor__container," pt-25 pb-2 pl-4"),children:[Object(h.jsx)("div",{className:"".concat(L.a.constructor__bunTop," mr-4"),onClick:function(){return a(i._id)},children:Object(h.jsx)(g.ConstructorElement,{type:i.type,isLocked:!0,text:"".concat(i.name," (\u0432\u0435\u0440\u0445)"),price:i.price,thumbnail:i.image})}),Object(h.jsx)("ul",{className:"".concat(L.a.constructor__nonBunElements," ").concat(m.a.scroll," pt-4"),children:o.map((function(e){return Object(h.jsxs)("li",{className:"".concat(L.a.constructor__nonBunElement," mb-4 ml-2"),onClick:function(){return a(e._id)},children:[Object(h.jsx)(g.DragIcon,{type:"primary"}),Object(h.jsx)(g.ConstructorElement,{text:e.name,price:e.price,thumbnail:e.image})]},e.uid)}))}),Object(h.jsx)("div",{className:"".concat(L.a.constructor__bunBottom," mr-4"),onClick:function(){return a(i._id)},children:Object(h.jsx)(g.ConstructorElement,{type:i.type,isLocked:!0,text:"".concat(i.name," (\u043d\u0438\u0437)"),price:i.price,thumbnail:i.image})}),Object(h.jsxs)("div",{className:"".concat(L.a.constructor__totalContainer," mt-10 mr-4"),children:[Object(h.jsxs)("div",{className:"".concat(L.a.constructor__totalPrice," mr-10"),children:[Object(h.jsx)("p",{className:"text text_type_digits-medium mr-2",children:"610"}),Object(h.jsx)(g.CurrencyIcon,{})]}),Object(h.jsx)(g.Button,{type:"primary",size:"medium",onClick:function(){c({orderNumber:"034536"})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},w=n(68),M=n.n(w);var P=function(e){var t=e.onClose;return Object(h.jsx)("div",{className:M.a.overlay,onClick:t})},T=n(27),z=n.n(T),W=document.getElementById("react-portal");var Z=function(e){var t=e.children,n=e.title,c=void 0===n?"":n,a=e.onClose;return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&a(e)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[a]),i.a.createPortal(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{onClose:a}),Object(h.jsxs)("div",{className:"".concat(z.a.modal," pt-15 pr-30 pb-15 pl-30"),children:[Object(h.jsx)("div",{className:z.a.modal__closeIcon,children:Object(h.jsx)(g.CloseIcon,{onClick:a,type:"primary"})}),Object(h.jsx)("h2",{className:"".concat(z.a.modal__title," text text_type_main-large pb-4"),children:c}),t]})]}),W)},F=n(28),S=n.n(F),U=n.p+"static/media/done.6d4020a5.svg";var D=function(e){var t=e.orderNumber;return Object(h.jsxs)("div",{className:S.a.order,children:[Object(h.jsx)("div",{className:"".concat(S.a.order__number," text text_type_digits-large pt-15 pb-8"),children:t}),Object(h.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(h.jsx)("img",{className:"".concat(S.a.order__image," pt-15 pb-15"),src:U,alt:"\u0437\u0430\u043a\u0430\u0437 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d"}),Object(h.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-2 pb-15",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},H=n(11),J=n.n(H);var A=function(e){var t=e.image,n=e.name,r=e.fat,c=e.carbohydrates,a=e.calories,i=e.proteins;return Object(h.jsxs)("div",{className:J.a.ingredient,children:[Object(h.jsx)("img",{className:"".concat(J.a.ingredient__image," pb-4"),src:t,alt:n}),Object(h.jsx)("p",{className:"".concat(J.a.ingredient__name," text text_type_main-medium pb-8"),children:n}),Object(h.jsxs)("div",{className:"".concat(J.a.ingredient__compounds),children:[Object(h.jsxs)("div",{className:"".concat(J.a.ingredient__compound),children:[Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(h.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:a})]}),Object(h.jsxs)("div",{className:"".concat(J.a.ingredient__compound),children:[Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(h.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:i})]}),Object(h.jsxs)("div",{className:"".concat(J.a.ingredient__compound),children:[Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(h.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:r})]}),Object(h.jsxs)("div",{className:"".concat(J.a.ingredient__compound),children:[Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(h.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:c})]})]})]})},K=n(69),Q=n(70),V=new(function(){function e(t){var n=t.baseUrl,r=t.headers;Object(K.a)(this,e),this._baseUrl=n,this._headers=r}return Object(Q.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440: ".concat(e.status))}},{key:"getIngredients",value:function(){return fetch("".concat(this._baseUrl,"/ingredients"),{headers:this._headers}).then(this._checkResponse)}}]),e}())({baseUrl:"https://norma.nomoreparties.space/api",headers:{"Content-Type":"application/json"}});var X=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),i=Object(l.a)(a,2),o=i[0],u=i[1],j=Object(r.useState)({isLoading:!1,hasError:!1,data:[]}),b=Object(l.a)(j,2),p=b[0],x=b[1];Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(Object(_.a)(Object(_.a)({},p),{},{hasError:!1,isLoading:!0})),e.prev=1,e.next=4,V.getIngredients();case 4:t=e.sent,x((function(e){return Object(_.a)(Object(_.a)({},e),{},{data:t.data,isLoading:!1})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),x((function(e){return Object(_.a)(Object(_.a)({},e),{},{hasError:!0,isLoading:!1})}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var g=p.data,O=p.isLoading,v=p.hasError,y=function(e){var t=e.itemId;c(g.find((function(e){return e._id===t})))},N=function(){c(null),u(null)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsxs)("main",{className:m.a.page,children:[O&&Object(h.jsx)("p",{className:"text text_type_main-medium text_color_inactive pt-10",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),v&&Object(h.jsx)("p",{className:"text text_type_main-medium text_color_inactive pt-10",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"}),!O&&!v&&g.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(B,{data:g,onOpenModal:y}),Object(h.jsx)(q,{data:g,onOpenModalWithOrder:function(e){var t=e.orderNumber;u(t)},onOpenModalWithIngredient:y}),n&&Object(h.jsx)(Z,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onClose:N,children:Object(h.jsx)(A,{image:n.image,name:n.name,fat:n.fat,carbohydrates:n.carbohydrates,calories:n.calories,proteins:n.proteins})}),o&&Object(h.jsx)(Z,{onClose:N,children:Object(h.jsx)(D,{orderNumber:o})})]})]})]})};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(X,{})}),document.getElementById("root"))},18:function(e,t,n){e.exports={page:"app_page__xu4mx",scroll:"app_scroll__1ZMNu"}},19:function(e,t,n){e.exports={header:"app-header_header__1iHLW",header__container:"app-header_header__container__1zQvH",header__navigation:"app-header_header__navigation__2N-rI",header__logo:"app-header_header__logo__27E10"}},20:function(e,t,n){e.exports={ingredients__tabContainer:"burger-ingredients_ingredients__tabContainer__3aRpQ",ingredients__list:"burger-ingredients_ingredients__list__2rRB8",ingredient__category:"burger-ingredients_ingredient__category__2v9Jj"}},26:function(e,t,n){e.exports={"ingredient__\u0441ard":"burger-ingredient_ingredient__\u0441ard__zgE2z","ingredient__\u0441ontainer":"burger-ingredient_ingredient__\u0441ontainer__10BWv",ingredient__price:"burger-ingredient_ingredient__price__Zb6Pu",ingredient__name:"burger-ingredient_ingredient__name__1XA3f"}},27:function(e,t,n){e.exports={modal:"modal_modal__1DF1f",modal__title:"modal_modal__title__CykZc",modal__closeIcon:"modal_modal__closeIcon__2BB1n"}},28:function(e,t,n){e.exports={order:"order-details_order__12ZdD",order__number:"order-details_order__number__g-Ijp",order__image:"order-details_order__image__1UwKi"}},67:function(e,t,n){e.exports={navigation__button:"navigation-item_navigation__button__1kVUw"}},68:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__AKixE"}},75:function(e,t,n){}},[[155,1,2]]]);
//# sourceMappingURL=main.c37d3a73.chunk.js.map