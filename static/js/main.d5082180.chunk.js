(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{102:function(e,t,n){},14:function(e,t,n){e.exports={constructor__elements:"burger-constructor_constructor__elements__cuaLn",constructor__elements_dropArea:"burger-constructor_constructor__elements_dropArea__XgeNC",constructor__elements_canDrop:"burger-constructor_constructor__elements_canDrop__1Itgz",constructor__elements_canNotDrop:"burger-constructor_constructor__elements_canNotDrop__Loy8D",constructor__bunElement:"burger-constructor_constructor__bunElement__15ixT",constructor__nonBunElements:"burger-constructor_constructor__nonBunElements__3Ni4f",constructor__totalPriceContainer:"burger-constructor_constructor__totalPriceContainer__3S0-0",constructor__totalPrice:"burger-constructor_constructor__totalPrice__24T16",constructor__text:"burger-constructor_constructor__text__29Utu"}},16:function(e,t,n){e.exports={ingredient:"ingredient-details_ingredient__2hFcT",ingredient__name:"ingredient-details_ingredient__name__2xadH",ingredient__image:"ingredient-details_ingredient__image__3mDBz",ingredient__compounds:"ingredient-details_ingredient__compounds__3fcIW",ingredient__compound:"ingredient-details_ingredient__compound__3rw40"}},182:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(22),i=n.n(a),o=n(17),s=n(8),d=n(92),l=(n(102),n(3)),_=n(86),u=n(87),g=document.getElementById("react-portal"),b=new(function(){function e(t){var n=t.baseUrl,r=t.headers;Object(_.a)(this,e),this._baseUrl=n,this._headers=r}return Object(u.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440: ".concat(e.status)))}},{key:"getIngredients",value:function(){return fetch("".concat(this._baseUrl,"/ingredients"),{headers:this._headers}).then(this._checkResponse)}},{key:"postOrder",value:function(e){return fetch("".concat(this._baseUrl,"/orders"),{method:"POST",headers:this._headers,body:JSON.stringify({ingredients:e})}).then(this._checkResponse)}}]),e}())({baseUrl:"https://norma.nomoreparties.space/api",headers:{"Content-Type":"application/json"}}),m="GET_INGREDIENTS_REQUEST",j="GET_INGREDIENTS_SUCCESS",p="GET_INGREDIENTS_FAILED",O="SET_INGREDIENT_TO_VIEW",x="RESET_INGREDIENT_TO_VIEW",h="RESET_INGREDIENTS";var f={ingredients:[],ingredientToView:null,ingredientsRequest:!1,ingredientsFailed:!1},E="ADD_BUN_ELEMENT",v="ADD_NON_BUN_ELEMENT",y="DELETE_ELEMENT",N="UPDATE_ELEMENTS_ORDER",I="RESET_CONSTRUCTOR",D=n(88),C=n.n(D),T={bunElement:{},draggableElements:[]},R="POST_ORDER_REQUEST",k="POST_ORDER_SUCCESS",S="POST_ORDER_FAILED",w="RESET_ORDER";var L={orderNumber:null,orderRequest:!1,orderFailed:!1},P=Object(o.b)({burgerIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(l.a)(Object(l.a)({},e),{},{ingredientsRequest:!0});case j:return Object(l.a)(Object(l.a)({},e),{},{ingredientsFailed:!1,ingredients:t.ingredients,ingredientsRequest:!1});case p:return Object(l.a)(Object(l.a)({},e),{},{ingredientsFailed:!0,ingredientsRequest:!1});case O:return Object(l.a)(Object(l.a)({},e),{},{ingredientToView:t.payload});case x:return Object(l.a)(Object(l.a)({},e),{},{ingredientToView:null});case h:return f;default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(l.a)(Object(l.a)({},e),{},{bunElement:t.payload});case v:return Object(l.a)(Object(l.a)({},e),{},{draggableElements:e.draggableElements.concat(t.payload)});case y:return Object(l.a)(Object(l.a)({},e),{},{draggableElements:e.draggableElements.filter((function(e){return e.uid!==t.uid}))});case N:var n=C()(e.draggableElements,{$splice:[[t.oldIndex,1],[t.newIndex,0,t.element]]});return Object(l.a)(Object(l.a)({},e),{},{draggableElements:n});case I:return T;default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(l.a)(Object(l.a)({},e),{},{orderRequest:!0});case k:return Object(l.a)(Object(l.a)({},e),{},{orderFailed:!1,orderNumber:t.orderNumber,orderRequest:!1});case S:return Object(l.a)(Object(l.a)({},e),{},{orderFailed:!0,orderRequest:!1});case w:return L;default:return e}}}),F=P,B=n(189),M=n(93),U=n(6),A=n(89),q=n.n(A),G=n(0);var V=function(e){var t=e.onClose;return Object(G.jsx)("div",{className:q.a.overlay,onClick:t,onKeyPress:t})},W=n(40),K=n.n(W);var z=function(e){var t=e.children,n=e.title,c=void 0===n?"":n,a=e.onClose;return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&a(e)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[a]),i.a.createPortal(Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(V,{onClose:a}),Object(G.jsxs)("div",{className:"".concat(K.a.modal," pt-15 pr-30 pb-15 pl-30"),children:[Object(G.jsx)("div",{className:K.a.modal__closeIcon,children:Object(G.jsx)(U.CloseIcon,{onClick:a,type:"primary"})}),Object(G.jsx)("h2",{className:"".concat(K.a.modal__title," text text_type_main-large pb-4"),children:c}),t]})]}),g)},X=n(23),H=n.n(X),J=n(12),Q=n(90),Z=n.n(Q);var $=function(e){var t=e.children,n=e.title,r=e.icon,c=e.isActive,a=e.onNavigationClick,i=c?"":"text_color_inactive";return Object(G.jsxs)("a",{href:"/#",className:"".concat(Z.a.navigation__link," pt-4 pr-5 pb-4 pl-5"),onClick:function(){a(n)},children:[r,Object(G.jsx)("p",{className:"text text text_type_main-default ml-2 ".concat(i),children:t})]})},Y=n(28),ee=n.n(Y);var te=function(){var e=Object(r.useState)("constructor"),t=Object(J.a)(e,2),n=t[0],c=t[1],a=function(e){c(e)};return Object(G.jsx)("header",{className:ee.a.header,children:Object(G.jsx)("div",{className:"".concat(ee.a.header__container," pt-4 pb-4"),children:Object(G.jsx)("nav",{children:Object(G.jsxs)("ul",{className:ee.a.header__navigation,children:[Object(G.jsx)("li",{children:Object(G.jsx)($,{title:"constructor",icon:Object(G.jsx)(U.BurgerIcon,{type:"constructor"===n?"primary":"secondary"}),isActive:"constructor"===n,onNavigationClick:a,children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})}),Object(G.jsx)("li",{children:Object(G.jsx)($,{title:"orderList",icon:Object(G.jsx)(U.ListIcon,{type:"orderList"===n?"primary":"secondary"}),isActive:"orderList"===n,onNavigationClick:a,children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(G.jsx)("li",{className:ee.a.header__logo,children:Object(G.jsx)("a",{href:"/#",children:Object(G.jsx)(U.Logo,{})})}),Object(G.jsx)("li",{children:Object(G.jsx)($,{title:"profile",icon:Object(G.jsx)(U.ProfileIcon,{type:"profile"===n?"primary":"secondary"}),isActive:"profile"===n,onNavigationClick:a,children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})})]})})})})},ne=n(38),re=n(190),ce=n(188),ae=n(29),ie=n.n(ae);var oe=function(e){var t=e.id,n=e.image,r=e.price,c=e.name,a=e.onOpenModalWithIngredient,i=Object(s.c)((function(e){return[e.burgerConstructor.bunElement].concat(Object(ne.a)(e.burgerConstructor.draggableElements),[e.burgerConstructor.bunElement])})),o=Object(re.a)({type:"BurgerIngredient",item:{id:t},collect:function(e){return{isDragging:e.isDragging()}}},[t]),d=Object(J.a)(o,3),l=d[0].isDragging,_=d[1],u=d[2],g=function(e){return a(e)},b=i.filter((function(e){return e._id===t})).length;return Object(G.jsxs)("li",{className:"".concat(ie.a.ingredient__\u0441ard," \n      ").concat(l&&ie.a.ingredient__\u0441ard_isDragging," mb-8"),onClick:g,onKeyPress:g,ref:_,"data-id":t,children:[Object(G.jsx)(ce.a,{src:n,connect:u}),Object(G.jsx)("img",{src:n,alt:c}),0!==b&&Object(G.jsx)(U.Counter,{count:b,size:"default"}),Object(G.jsxs)("div",{className:"".concat(ie.a.ingredient__price," mt-2 mb-2"),children:[Object(G.jsx)("span",{className:"text text_type_digits-default mr-2",children:r}),Object(G.jsx)(U.CurrencyIcon,{})]}),Object(G.jsx)("p",{className:"".concat(ie.a.ingredient__name," text text text_type_main-default"),children:c})]})},se=n(30),de=n.n(se);var le=function(e){var t=e.onOpenModalWithIngredient,n=Object(s.c)((function(e){return e.burgerIngredients.ingredients})),c={bun:{name:"\u0411\u0443\u043b\u043a\u0438",ref:Object(r.useRef)(null)},sauce:{name:"\u0421\u043e\u0443\u0441\u044b",ref:Object(r.useRef)(null)},main:{name:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",ref:Object(r.useRef)(null)}},a=Object(r.useState)("\u0411\u0443\u043b\u043a\u0438"),i=Object(J.a)(a,2),o=i[0],d=i[1],l=Object(r.useCallback)((function(e){var t=e.tabName,n=e.element;return function(){d(t),n.current.scrollIntoView({behavior:"smooth"})}}),[]),_=Object.keys(c).map((function(e){return{name:c[e].name,items:n.filter((function(t){return t.type===e})),ref:c[e].ref}}));return Object(G.jsxs)("section",{className:de.a.ingredients__container,children:[Object(G.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(G.jsx)("nav",{children:Object(G.jsx)("ul",{className:de.a.ingredients__tabContainer,children:Object.values(c).map((function(e,t){return Object(G.jsx)("li",{children:Object(G.jsx)(U.Tab,{value:e.name,active:o===e.name,onClick:l({tabName:e.name,element:e.ref}),children:e.name})},t)}))})}),Object(G.jsx)("section",{className:"".concat(de.a.ingredients__list," ").concat(H.a.scroll," pr-4 pl-4"),onScroll:function(e){var t=e.target.scrollTop,n=c.sauce.ref.current.offsetTop,r=c.main.ref.current.offsetTop;d(t+120<=n?"\u0411\u0443\u043b\u043a\u0438":t+120<=r?"\u0421\u043e\u0443\u0441\u044b":"\u041d\u0430\u0447\u0438\u043d\u043a\u0438")},children:_.map((function(e,n){var r=e.name,c=e.items,a=e.ref;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h2",{className:"text text_type_main-medium mt-10 mb-6",ref:a,children:r},n),Object(G.jsx)("ul",{className:"".concat(de.a.ingredient__category," pr-4 pl-4"),children:c.map((function(e){return Object(G.jsx)(oe,{id:e._id,name:e.name,price:e.price,image:e.image,onOpenModalWithIngredient:t},e._id)}))})]})}))})]})},_e=n(191),ue=n(192),ge=n(62),be=n.n(ge);var me=function(e){var t=e.id,n=e.uid,r=e.name,c=e.price,a=e.image,i=e.onClickToIngredient,o=e.findDraggableElement,d=e.moveDraggableElement,l=Object(s.b)(),_=o(n).draggableElementIndex,u=Object(re.a)((function(){return{type:"DraggableItem",item:{uid:n,originalIndex:_},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){t.didDrop()||d(n,_)}}}),[n,d,_]),g=Object(J.a)(u,3),b=g[0].isDragging,m=g[1],j=g[2],p=Object(_e.a)((function(){return{accept:"DraggableItem",hover:function(e){var t=e.uid;if(t!==n){var r=o(n).draggableElementIndex;d(t,r)}}}}),[o,d]),O=Object(J.a)(p,2)[1];return Object(G.jsxs)("li",{className:"".concat(be.a.draggableElement," \n      ").concat(b&&be.a.draggableElement_isDragging," mb-4 ml-2"),onClick:i,onKeyPress:i,"data-id":t,"data-uid":n,ref:function(e){return m(O(e))},children:[Object(G.jsx)(U.DragIcon,{type:"primary"}),Object(G.jsx)(ce.a,{src:a,connect:j}),Object(G.jsx)(U.ConstructorElement,{text:r,price:c,thumbnail:a,handleClose:function(e){var t=e.target.closest("li").dataset.uid;l({type:y,uid:t})}})]},n)},je=n(14),pe=n.n(je);var Oe=function(e){var t=e.onOpenModalWithIngredient,n=Object(s.c)((function(e){return{ingredients:e.burgerIngredients.ingredients,bunElement:e.burgerConstructor.bunElement,draggableElements:e.burgerConstructor.draggableElements,orderRequest:e.order.orderRequest}})),c=n.ingredients,a=n.bunElement,i=n.draggableElements,o=n.orderRequest,d=Object(s.b)(),_=function(e){var t=e.id,n=c.find((function(e){return e._id===t}));"bun"===n.type?d({type:E,payload:Object(l.a)(Object(l.a)({},n),{},{uid:Object(ue.a)()})}):a._id&&d({type:v,payload:Object(l.a)(Object(l.a)({},n),{},{uid:Object(ue.a)()})})},u=function(e){var t=e.id,n=c.find((function(e){return e._id===t}));return!(!a._id&&"bun"!==n.type)},g=Object(_e.a)({accept:"BurgerIngredient",drop:function(e){_(e)},canDrop:function(e){return u(e)},collect:function(e){return{isHover:e.isOver(),isCanDrop:e.canDrop(),isDragging:e.canDrop()&&!e.isOver()}}},[_,u]),m=Object(J.a)(g,2),j=m[0],p=j.isHover,O=j.isCanDrop,x=j.isDragging,h=m[1],f=Object(r.useCallback)((function(e){var t=i.find((function(t){return t.uid===e}));return{draggableElement:t,draggableElementIndex:i.indexOf(t)}}),[i]),y=Object(r.useCallback)((function(e,t){var n=f(e),r=n.draggableElement,c=n.draggableElementIndex;d({type:N,element:r,oldIndex:c,newIndex:t})}),[f,d]),D=Object(_e.a)((function(){return{accept:"DraggableItem"}})),C=Object(J.a)(D,2)[1],T=!a._id&&!i.length,w="".concat(pe.a.constructor__elements," \n  ").concat((T||x)&&pe.a.constructor__elements_dropArea," \n  ").concat(p&&O?pe.a.constructor__elements_canDrop:"","\n  ").concat(p&&!O?pe.a.constructor__elements_canNotDrop:""),L=Object(r.useMemo)((function(){return("bun"===a.type?2*a.price:0)+i.reduce((function(e,t){return e+t.price}),0)}),[a,i]),P=function(e){return t(e)};return Object(G.jsxs)("section",{className:"pt-25 pb-2 pl-4",children:[Object(G.jsxs)("ul",{className:w,ref:h,children:["bun"===a.type&&Object(G.jsx)("li",{className:"".concat(pe.a.constructor__bunElement," mr-4 mb-4"),onClick:P,onKeyPress:P,"data-id":a._id,children:Object(G.jsx)(U.ConstructorElement,{type:"top",text:"".concat(a.name," (\u0432\u0435\u0440\u0445)"),price:a.price,thumbnail:a.image,isLocked:!0})}),Object(G.jsxs)("ul",{className:"".concat(pe.a.constructor__nonBunElements," ").concat(H.a.scroll),ref:C,children:[T&&Object(G.jsx)("p",{className:"".concat(pe.a.constructor__text," mt-10\n              text text text_type_main-medium text_color_inactive"),children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043e\u0447\u043a\u0443"}),i.map((function(e){return Object(G.jsx)(me,{id:e._id,uid:e.uid,name:e.name,price:e.price,image:e.image,onClickToIngredient:P,findDraggableElement:f,moveDraggableElement:y},e.uid)}))]}),"bun"===a.type&&Object(G.jsx)("li",{className:"".concat(pe.a.constructor__bunElement," mt-4 mr-4"),onClick:P,onKeyPress:P,"data-id":a._id,children:Object(G.jsx)(U.ConstructorElement,{type:"bottom",text:"".concat(a.name," (\u043d\u0438\u0437)"),price:a.price,thumbnail:a.image,isLocked:!0})})]}),Object(G.jsxs)("div",{className:"".concat(pe.a.constructor__totalPriceContainer," mt-10 mr-4"),children:[Object(G.jsxs)("div",{className:"".concat(pe.a.constructor__totalPrice," mr-10"),children:[Object(G.jsx)("span",{className:"text text_type_digits-medium mr-2",children:L}),Object(G.jsx)(U.CurrencyIcon,{})]}),Object(G.jsx)(U.Button,{type:"primary",size:"medium",onClick:function(){var e;d((e=[a].concat(Object(ne.a)(i)),function(t){t({type:R}),b.postOrder(e).then((function(e){e&&e.success?t({type:k,orderNumber:e.order.number}):t({type:S})})).then((function(){t({type:I})})).catch((function(e){t({type:S}),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430: ".concat(e))}))}))},disabled:0===L,name:"orderSubmitButton",htmlType:"submit",children:o?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0437\u0430\u043a\u0430\u0437...":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},xe=n(41),he=n.n(xe),fe=n.p+"static/media/done.6d4020a5.svg";var Ee=function(){var e=Object(s.c)((function(e){return e.order.orderNumber}));return Object(G.jsxs)("div",{className:he.a.order,children:[Object(G.jsx)("div",{className:"".concat(he.a.order__number," text text_type_digits-large pt-15 pb-8"),children:e}),Object(G.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(G.jsx)("img",{className:"".concat(he.a.order__image," pt-15 pb-15"),src:fe,alt:"\u0437\u0430\u043a\u0430\u0437 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d"}),Object(G.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(G.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-2 pb-15",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},ve=n(16),ye=n.n(ve);var Ne=function(e){var t=e.image,n=e.name,r=e.fat,c=e.carbohydrates,a=e.calories,i=e.proteins;return Object(G.jsxs)("div",{className:ye.a.ingredient,children:[Object(G.jsx)("img",{className:"".concat(ye.a.ingredient__image," pb-4"),src:t,alt:n}),Object(G.jsx)("p",{className:"".concat(ye.a.ingredient__name," text text_type_main-medium pb-8"),children:n}),Object(G.jsxs)("div",{className:"".concat(ye.a.ingredient__compounds),children:[Object(G.jsxs)("div",{className:"".concat(ye.a.ingredient__compound),children:[Object(G.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(G.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:a})]}),Object(G.jsxs)("div",{className:"".concat(ye.a.ingredient__compound),children:[Object(G.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(G.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:i})]}),Object(G.jsxs)("div",{className:"".concat(ye.a.ingredient__compound),children:[Object(G.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(G.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:r})]}),Object(G.jsxs)("div",{className:"".concat(ye.a.ingredient__compound),children:[Object(G.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(G.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:c})]})]})]})};var Ie=function(e){var t=e.isLoading,n=e.hasError,r=e.gotData,c=e.children,a=e.onErrorModalClose;return Object(G.jsxs)(G.Fragment,{children:[t&&Object(G.jsx)("p",{className:"text text_type_main-medium text_color_inactive pt-10",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),n&&Object(G.jsx)(z,{title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",onClose:a,children:Object(G.jsx)("p",{className:"text text_type_main-medium text_color_inactive pt-10",children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435"})}),!t&&!n&&r&&c]})};var De=function(){var e=Object(s.c)((function(e){return{ingredients:e.burgerIngredients.ingredients,ingredientToView:e.burgerIngredients.ingredientToView,ingredientsRequest:e.burgerIngredients.ingredientsRequest,ingredientsFailed:e.burgerIngredients.ingredientsFailed,orderNumber:e.order.orderNumber,orderFailed:e.order.orderFailed}})),t=e.ingredients,n=e.ingredientToView,c=e.ingredientsRequest,a=e.ingredientsFailed,i=e.orderNumber,o=e.orderFailed,d=Object(s.b)();Object(r.useEffect)((function(){d((function(e){e({type:m}),b.getIngredients().then((function(t){t&&t.success?e({type:j,ingredients:t.data}):e({type:p})})).catch((function(t){e({type:p}),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432: ".concat(t))}))}))}),[d]);var l=function(e){if(!e.target.closest(".constructor-element__action")){var n=e.target.closest("li").dataset.id;d({type:O,payload:t.find((function(e){return e._id===n}))})}},_=function(){d({type:w})};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(te,{}),Object(G.jsx)("main",{className:H.a.page,children:Object(G.jsxs)(Ie,{isLoading:c,hasError:a,gotData:Boolean(t.length),onErrorModalClose:function(){d({type:h})},children:[Object(G.jsxs)(B.a,{backend:M.a,children:[Object(G.jsx)(le,{onOpenModalWithIngredient:l}),Object(G.jsx)(Oe,{onOpenModalWithIngredient:l})]}),n&&Object(G.jsx)(z,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onClose:function(){d({type:x})},children:Object(G.jsx)(Ne,{image:n.image,name:n.name,fat:n.fat,carbohydrates:n.carbohydrates,calories:n.calories,proteins:n.proteins})}),Object(G.jsx)(Ie,{isLoading:!1,hasError:o,gotData:Boolean(i),onErrorModalClose:_,children:Object(G.jsx)(z,{onClose:_,children:Object(G.jsx)(Ee,{})})})]})})]})},Ce=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.c)(Object(o.a)(d.a)),Te=Object(o.d)(F,Ce);i.a.render(Object(G.jsx)(c.a.StrictMode,{children:Object(G.jsx)(s.a,{store:Te,children:Object(G.jsx)(De,{})})}),document.getElementById("root"))},23:function(e,t,n){e.exports={page:"app_page__xu4mx",scroll:"app_scroll__1ZMNu"}},28:function(e,t,n){e.exports={header:"app-header_header__1iHLW",header__container:"app-header_header__container__1zQvH",header__navigation:"app-header_header__navigation__2N-rI",header__logo:"app-header_header__logo__27E10"}},29:function(e,t,n){e.exports={"ingredient__\u0441ard":"burger-ingredient_ingredient__\u0441ard__zgE2z","ingredient__\u0441ard_isDragging":"burger-ingredient_ingredient__\u0441ard_isDragging__39uQp",ingredient__price:"burger-ingredient_ingredient__price__Zb6Pu",ingredient__name:"burger-ingredient_ingredient__name__1XA3f"}},30:function(e,t,n){e.exports={ingredients__tabContainer:"burger-ingredients_ingredients__tabContainer__3aRpQ",ingredients__list:"burger-ingredients_ingredients__list__2rRB8",ingredient__category:"burger-ingredients_ingredient__category__2v9Jj"}},40:function(e,t,n){e.exports={modal:"modal_modal__1DF1f",modal__title:"modal_modal__title__CykZc",modal__closeIcon:"modal_modal__closeIcon__2BB1n"}},41:function(e,t,n){e.exports={order:"order-details_order__12ZdD",order__number:"order-details_order__number__g-Ijp",order__image:"order-details_order__image__1UwKi"}},62:function(e,t,n){e.exports={draggableElement:"draggable-item_draggableElement__1G66w",draggableElement_isDragging:"draggable-item_draggableElement_isDragging__J3B_G"}},89:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__AKixE"}},90:function(e,t,n){e.exports={navigation__link:"navigation-link_navigation__link__KGGEA"}}},[[182,1,2]]]);
//# sourceMappingURL=main.d5082180.chunk.js.map