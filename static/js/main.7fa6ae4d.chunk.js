(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{106:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__AKixE"}},112:function(e,t,n){e.exports={loader:"loader_loader__31U88",spin:"loader_spin__3GevV"}},113:function(e,t,n){e.exports={homePage:"home_homePage__3Rs05"}},114:function(e,t,n){e.exports={orders__list:"orders-list_orders__list__sovuL"}},115:function(e,t,n){e.exports={ordersHistory__container:"orders-history_ordersHistory__container__1YMRS"}},117:function(e,t,n){e.exports={indredient__container:"ingredient_indredient__container__2xfzv"}},118:function(e,t,n){e.exports={feedPage:"feed_feedPage__2FU6u"}},119:function(e,t,n){e.exports={order__container:"order-contents_order__container__2iY0b"}},129:function(e,t,n){},15:function(e,t,n){e.exports={orderContents__container:"order-contents_orderContents__container__1e1_K",orderContents__header:"order-contents_orderContents__header__2jTfo",orderContents__status_progress:"order-contents_orderContents__status_progress__2KytM",orderContents__status_cancel:"order-contents_orderContents__status_cancel__1hU7_",orderContents__ingredients:"order-contents_orderContents__ingredients__3ai06",orderContents__ingredient:"order-contents_orderContents__ingredient__2gz2q",orderContents__imageOverlay:"order-contents_orderContents__imageOverlay__3aWdm",orderContents__image:"order-contents_orderContents__image__Pxh3z",orderContents__details:"order-contents_orderContents__details__1bOi1",orderContents__price:"order-contents_orderContents__price__1WaQZ"}},16:function(e,t,n){e.exports={orderItem__container:"order-item_orderItem__container__nNKQ3",orderItem__header:"order-item_orderItem__header__1b5HF",orderItem__status_progress:"order-item_orderItem__status_progress__2Erbv",orderItem__status_cancel:"order-item_orderItem__status_cancel__2EZ7S",orderItem__details:"order-item_orderItem__details__2plN0",orderItem__images:"order-item_orderItem__images__3xpQj",orderItem__image:"order-item_orderItem__image__mZgX7",orderItem__imagesCount:"order-item_orderItem__imagesCount__3zMB-",orderItem__imageOverlay:"order-item_orderItem__imageOverlay__1lA-s",orderItem__price:"order-item_orderItem__price__1XaIw"}},212:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(38),s=n.n(c),o=n(3),i=(n(129),n(6)),d=n(11),l=n(219),u=n(120),_=n(5),m=document.getElementById("react-portal"),j=n(106),b=n.n(j),p=n(0),h=function(e){var t=e.onClose;return Object(p.jsx)("div",{className:b.a.overlay,onClick:t,onKeyPress:t})},g=n(78),f=n.n(g),O=function(e){var t=e.children,n=e.onClose;return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n]),s.a.createPortal(Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(h,{onClose:n}),Object(p.jsxs)("div",{className:"".concat(f.a.modal," p-10"),children:[Object(p.jsx)("div",{className:f.a.modal__closeIcon,children:Object(p.jsx)(_.CloseIcon,{onClick:n,type:"primary"})}),t]})]}),m)},x=n(12),v=o.c,y=function(){return Object(o.b)()},N=n(220),C=n(218),k=n(39),w=n(54),I=function(e){return e.burgerConstructor.bunElement},E=function(e){return e.burgerConstructor.draggableElements},R=Object(w.a)(I,E,(function(e,t){return("bun"===e.type?2*e.price:0)+t.reduce((function(e,t){return e+t.price}),0)})),T=n(46),D=n.n(T),P=function(e){var t=e.id,n=e.image,a=e.price,c=e.name,s=e.onOpenModalWithIngredient,l=Object(o.c)(function(e){return Object(w.a)(I,E,(function(t,n){return[t].concat(Object(k.a)(n),[t]).filter((function(t){return t._id===e})).length}))}(t)),u=Object(d.h)(),m=Object(N.a)({type:"BurgerIngredient",item:{id:t},collect:function(e){return{isDragging:e.isDragging()}}},[t]),j=Object(x.a)(m,3),b=j[0].isDragging,h=j[1],g=j[2],f=Object(r.useCallback)((function(e){return s(e)}),[s]);return Object(p.jsx)(i.b,{to:{pathname:"/ingredients/".concat(t),state:{background:u}},children:Object(p.jsxs)("li",{className:"".concat(D.a.ingredient__\u0441ard," \n      ").concat(b&&D.a.ingredient__\u0441ard_isDragging," mb-8"),onClick:f,onKeyPress:f,ref:h,"data-id":t,children:[Object(p.jsx)(C.a,{src:n,connect:g}),Object(p.jsx)("img",{src:n,alt:c}),0!==l&&Object(p.jsx)(_.Counter,{count:l,size:"default"}),Object(p.jsxs)("div",{className:"".concat(D.a.ingredient__price," mt-2 mb-2"),children:[Object(p.jsx)("span",{className:"text text_type_digits-default mr-2",children:a}),Object(p.jsx)(_.CurrencyIcon,{type:"primary"})]}),Object(p.jsx)("p",{className:"".concat(D.a.ingredient__name," text text text_type_main-default"),children:c})]})})},S=a.a.memo(P),F=function(e){return e.burgerIngredients.ingredients},q=function(e){return e.burgerIngredients.ingredientToView},U=function(e){return e.burgerIngredients.ingredientsRequest},M=function(e){return e.burgerIngredients.ingredientsFailed},B=n(30),L=n.n(B),z=n(47),W=n.n(z),A=function(e){var t=e.onOpenModalWithIngredient,n=v(F),a={bun:{name:"\u0411\u0443\u043b\u043a\u0438",ref:Object(r.useRef)(null)},sauce:{name:"\u0421\u043e\u0443\u0441\u044b",ref:Object(r.useRef)(null)},main:{name:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",ref:Object(r.useRef)(null)}},c=Object(r.useState)("\u0411\u0443\u043b\u043a\u0438"),s=Object(x.a)(c,2),o=s[0],i=s[1],d=Object(r.useCallback)((function(e){var t=e.name,n=e.ref;return function(){var e;i(t),null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}}),[]),l=Object(r.useCallback)((function(){return Object.keys(a).map((function(e){return{name:a[e].name,items:n.filter((function(t){return t.type===e})),ref:a[e].ref}}))}),[a,n])(),u=Object(r.useCallback)((function(e){var t,n,r=e.target.scrollTop,c=null===(t=a.sauce.ref.current)||void 0===t?void 0:t.offsetTop,s=null===(n=a.main.ref.current)||void 0===n?void 0:n.offsetTop;i(c&&r+120<=c?"\u0411\u0443\u043b\u043a\u0438":s&&r+120<=s?"\u0421\u043e\u0443\u0441\u044b":"\u041d\u0430\u0447\u0438\u043d\u043a\u0438")}),[i,a.sauce.ref,a.main.ref]);return Object(p.jsxs)("section",{className:W.a.ingredients__container,children:[Object(p.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(p.jsx)("nav",{children:Object(p.jsx)("ul",{className:W.a.ingredients__tabContainer,children:Object.values(a).map((function(e,t){return Object(p.jsx)("li",{children:Object(p.jsx)(_.Tab,{value:e.name,active:o===e.name,onClick:d({name:e.name,ref:e.ref}),children:e.name})},t)}))})}),Object(p.jsx)("section",{children:Object(p.jsx)("ul",{className:"".concat(W.a.ingredients__list," ").concat(L.a.scroll," pr-4 pl-4"),onScroll:u,children:l.map((function(e,n){var r=e.name,a=e.items,c=e.ref;return Object(p.jsxs)("li",{children:[Object(p.jsx)("h2",{className:"text text_type_main-medium mt-6 mb-6",ref:c,children:r}),Object(p.jsx)("ul",{className:"".concat(W.a.ingredient__category," pr-4 pl-4"),children:a.map((function(e){return Object(p.jsx)(S,{id:e._id,name:e.name,price:e.price,image:e.image,onOpenModalWithIngredient:t},e._id)}))})]},n)}))})})]})},V=a.a.memo(A),J=n(4),K=n(221),H=n(17),Q=n(109),G=n.n(Q),Y={bunElement:{},draggableElements:[]},Z=Object(H.b)({name:"constructor",initialState:Y,reducers:{addBunElement:function(e,t){e.bunElement=t.payload},addNonBunElement:function(e,t){e.draggableElements.push(t.payload)},deleteElement:function(e,t){var n=e.draggableElements.filter((function(e){return e.uid!==t.payload}));e.draggableElements=n},udpadeElementsOrder:function(e,t){var n=t.payload,r=n.newIndex,a=n.draggableElement,c=e.draggableElements.findIndex((function(e){return e.uid===a.uid})),s=G()(e.draggableElements,{$splice:[[c,1],[r,0,a]]});e.draggableElements=s},resetConstructor:function(){return Y}}}),X=Z.actions,$=X.addBunElement,ee=X.addNonBunElement,te=X.deleteElement,ne=X.udpadeElementsOrder,re=X.resetConstructor,ae=Z.reducer,ce=n(110),se=n(111);function oe(e){var t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1"),"=([^;]*)")));return t?decodeURIComponent(t[1]):""}function ie(e,t,n){var r=(n=n||{}).expires;if("number"===typeof r&&r){var a=new Date;a.setTime(a.getTime()+1e3*r),r=n.expires=a}r&&r instanceof Date&&(n.expires=r.toUTCString()),t=encodeURIComponent(t);var c="".concat(e,"=").concat(t);for(var s in n){c+="; ".concat(s);var o=n[s];!0!==o&&(c+="=".concat(o))}document.cookie=c}var de=function(){function e(t,n){Object(ce.a)(this,e),this.baseUrl=void 0,this.headers=void 0,this.checkResponse=function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))},this.baseUrl=t,this.headers=n}return Object(se.a)(e,[{key:"getIngredients",value:function(){return fetch("".concat(this.baseUrl,"/ingredients"),{headers:this.headers}).then(this.checkResponse)}},{key:"postOrder",value:function(e){return fetch("".concat(this.baseUrl,"/orders"),{method:"POST",headers:this.headers,body:JSON.stringify({ingredients:e})}).then(this.checkResponse)}},{key:"postRegisterUser",value:function(e){var t=e.name,n=e.email,r=e.password;return fetch("".concat(this.baseUrl,"/auth/register"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t,email:n,password:r})}).then(this.checkResponse)}},{key:"postLoginUser",value:function(e){var t=e.email,n=e.password;return fetch("".concat(this.baseUrl,"/auth/login"),{method:"POST",headers:this.headers,body:JSON.stringify({email:t,password:n})}).then(this.checkResponse)}},{key:"postLogoutUser",value:function(){var e=localStorage.getItem("refreshToken");return fetch("".concat(this.baseUrl,"/auth/logout"),{method:"POST",headers:this.headers,body:JSON.stringify({token:e})}).then(this.checkResponse)}},{key:"getUserData",value:function(){var e=this,t=oe("accessToken");return this.headers.set("authorization",t),fetch("".concat(this.baseUrl,"/auth/user"),{headers:this.headers}).then(this.checkResponse).catch((function(t){return"jwt expired"===t.message?e.postUpdateToken().then((function(t){localStorage.setItem("refreshToken",t.refreshToken),ie("accessToken",t.accessToken),e.headers.set("authorization",t.accessToken),fetch("".concat(e.baseUrl,"/auth/user"),{headers:e.headers}).then(e.checkResponse)})):Promise.reject(t)}))}},{key:"patchUserData",value:function(e){var t=e.name,n=e.email,r=e.password,a=oe("accessToken");return this.headers.set("authorization",a),fetch("".concat(this.baseUrl,"/auth/user"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t,email:n,password:r})}).then(this.checkResponse)}},{key:"postForgotPassword",value:function(e){var t=e.email;return fetch("".concat(this.baseUrl,"/password-reset"),{method:"POST",headers:this.headers,body:JSON.stringify({email:t})}).then(this.checkResponse)}},{key:"postResetPassword",value:function(e){var t=e.password,n=e.token;return fetch("".concat(this.baseUrl,"/password-reset/reset"),{method:"POST",headers:this.headers,body:JSON.stringify({password:t,token:n})}).then(this.checkResponse)}},{key:"postUpdateToken",value:function(){var e=localStorage.getItem("refreshToken");return fetch("".concat(this.baseUrl,"/auth/token"),{method:"POST",headers:this.headers,body:JSON.stringify({token:e})}).then(this.checkResponse)}}]),e}(),le=new Headers;le.set("Content-Type","application/json");var ue=new de("https://norma.nomoreparties.space/api",le),_e={orderNumber:null,orderRequest:!1,orderFailed:!1},me=Object(H.b)({name:"order",initialState:_e,reducers:{postOrderRequest:function(e){e.orderRequest=!0},postOrderSuccess:function(e,t){e.orderNumber=t.payload,e.orderFailed=!1,e.orderRequest=!1},postOrderFailed:function(e){e.orderFailed=!0,e.orderRequest=!1},resetOrder:function(){return _e}}}),je=me.actions,be=je.postOrderRequest,pe=je.postOrderSuccess,he=je.postOrderFailed,ge=je.resetOrder,fe=me.reducer,Oe=function(e){return function(t){t(be()),ue.postOrder(e).then((function(e){e&&e.success?t(pe(e.order.number)):t(he())})).then((function(){t(re())})).catch((function(e){t(he()),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430: ".concat(e))}))}},xe=n(81),ve=n.n(xe),ye=function(e){var t=e.id,n=e.uid,a=e.name,c=e.price,s=e.image,o=e.onClickToIngredient,i=e.findDraggableElement,d=e.moveDraggableElement,l=y(),u=i(n).draggableElementIndex,m=Object(N.a)((function(){return{type:"DraggableItem",item:{uid:n,originalIndex:u},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){t.didDrop()||d(n,u)}}}),[n,d,u]),j=Object(x.a)(m,3),b=j[0].isDragging,h=j[1],g=j[2],f=Object(K.a)((function(){return{accept:"DraggableItem",hover:function(e){var t=e.uid;if(t!==n){var r=i(n).draggableElementIndex;d(t,r)}}}}),[i,d]),O=Object(x.a)(f,2)[1],v=Object(r.useCallback)((function(){l(te(n))}),[n,l]);return Object(p.jsxs)("li",{className:"".concat(ve.a.draggableElement," \n      ").concat(b&&ve.a.draggableElement_isDragging," mb-4 ml-2"),onClick:o,onKeyPress:o,"data-id":t,ref:function(e){return h(O(e))},children:[Object(p.jsx)(_.DragIcon,{type:"primary"}),Object(p.jsx)(C.a,{src:s,connect:g}),Object(p.jsx)(_.ConstructorElement,{text:a,price:c,thumbnail:s,handleClose:v})]},n)},Ne=a.a.memo(ye),Ce=function(e){return e.order.orderRequest},ke=function(e){return e.order.orderFailed},we=function(e){return e.order.orderNumber},Ie=function(e){return e.auth},Ee=function(e){return e.auth.registerRequest},Re=function(e){return e.auth.registerFailed},Te=function(e){return e.auth.loginRequest},De=function(e){return e.auth.loginFailed},Pe=function(e){return e.auth.userDataRequest},Se=function(e){return e.auth.forgotPasswordRequest},Fe=function(e){return e.auth.forgotPassword},qe=function(e){return e.auth.forgotPasswordFailed},Ue=function(e){return e.auth.resetPasswordRequest},Me=function(e){return e.auth.resetPasswordFailed},Be=n(222),Le=n(26),ze=n.n(Le),We=function(e){var t=e.onOpenModalWithIngredient,n=v(F),a=v(I),c=v(E),s=v(Ce),o=v(R),l=v(Ie).user,u=Object(d.g)(),m=Object(d.h)(),j=y(),b=function(e){var t=e.id,r=n.find((function(e){return e._id===t}));"bun"===(null===r||void 0===r?void 0:r.type)?j($(Object(J.a)(Object(J.a)({},r),{},{uid:Object(Be.a)()}))):r&&a._id&&j(ee(Object(J.a)(Object(J.a)({},r),{},{uid:Object(Be.a)()})))},h=function(e){var t=e.id,r=n.find((function(e){return e._id===t}));return!(!a._id&&"bun"!==(null===r||void 0===r?void 0:r.type))},g=Object(K.a)({accept:"BurgerIngredient",drop:function(e){b(e)},canDrop:function(e){return h(e)},collect:function(e){return{isHover:e.isOver(),isCanDrop:e.canDrop(),isDragging:e.canDrop()&&!e.isOver()}}},[b,h]),f=Object(x.a)(g,2),O=f[0],N=O.isHover,C=O.isCanDrop,w=O.isDragging,T=f[1],D=Object(r.useCallback)((function(e){var t=c.find((function(t){return t.uid===e}));return{draggableElement:t,draggableElementIndex:t?c.findIndex((function(e){return e.uid===t.uid})):-1}}),[c]),P=Object(r.useCallback)((function(e,t){var n=D(e).draggableElement;n&&j(ne({draggableElement:n,newIndex:t}))}),[D,j]),S=Object(K.a)((function(){return{accept:"DraggableItem"}})),q=Object(x.a)(S,2)[1],U=!a._id&&!c.length,M="".concat(ze.a.constructor__elements," \n  ").concat((U||w)&&ze.a.constructor__elements_dropArea," \n  ").concat(N&&C?ze.a.constructor__elements_canDrop:"","\n  ").concat(N&&!C?ze.a.constructor__elements_canNotDrop:"");return Object(p.jsxs)("section",{className:"pt-25 pb-2 pl-4",children:[Object(p.jsxs)("ul",{className:M,ref:T,children:["bun"===a.type&&Object(p.jsx)(i.b,{to:{pathname:"/ingredients/".concat(a._id),state:{background:m}},children:Object(p.jsx)("li",{className:"".concat(ze.a.constructor__bunElement," mr-4 mb-4"),onClick:t,onKeyPress:t,"data-id":a._id,children:Object(p.jsx)(_.ConstructorElement,{type:"top",text:"".concat(a.name," (\u0432\u0435\u0440\u0445)"),price:a.price,thumbnail:a.image,isLocked:!0})})}),Object(p.jsxs)("ul",{className:"".concat(ze.a.constructor__nonBunElements," ").concat(L.a.scroll),ref:q,children:[U&&Object(p.jsx)("p",{className:"".concat(ze.a.constructor__text," mt-10\n              text text text_type_main-medium text_color_inactive"),children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043e\u0447\u043a\u0443"}),c.map((function(e){return Object(p.jsx)(i.b,{to:{pathname:"/ingredients/".concat(e._id),state:{background:m}},children:Object(p.jsx)(Ne,{id:e._id,uid:e.uid,name:e.name,price:e.price,image:e.image,onClickToIngredient:t,findDraggableElement:D,moveDraggableElement:P},e.uid)},e._id)}))]}),"bun"===a.type&&Object(p.jsx)(i.b,{to:{pathname:"/ingredients/".concat(a._id),state:{background:m}},children:Object(p.jsx)("li",{className:"".concat(ze.a.constructor__bunElement," mt-4 mr-4"),onClick:t,onKeyPress:t,"data-id":a._id,children:Object(p.jsx)(_.ConstructorElement,{type:"bottom",text:"".concat(a.name," (\u043d\u0438\u0437)"),price:a.price,thumbnail:a.image,isLocked:!0})})})]}),Object(p.jsxs)("div",{className:"".concat(ze.a.constructor__totalPriceContainer," mt-10 mr-4"),children:[Object(p.jsxs)("div",{className:"".concat(ze.a.constructor__totalPrice," mr-10"),children:[Object(p.jsx)("span",{className:"text text_type_digits-medium mr-2",children:o}),Object(p.jsx)(_.CurrencyIcon,{type:"primary"})]}),Object(p.jsx)(_.Button,{type:"primary",size:"medium",onClick:function(){l?j(Oe([a].concat(Object(k.a)(c)))):u.replace({pathname:"/login"})},disabled:0===o,name:"orderSubmitButton",htmlType:"submit",children:s?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0437\u0430\u043a\u0430\u0437...":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},Ae=a.a.memo(We),Ve=n(59),Je=n.n(Ve),Ke=n.p+"static/media/done.6d4020a5.svg",He=function(){var e=v(we);return Object(p.jsxs)("div",{className:"".concat(Je.a.order," pr-15 pl-15"),children:[Object(p.jsx)("div",{className:"".concat(Je.a.order__number," text text_type_digits-large pt-10 pb-8"),children:e}),Object(p.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(p.jsx)("img",{className:"".concat(Je.a.order__image," pt-15 pb-15"),src:Ke,alt:"\u0437\u0430\u043a\u0430\u0437 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d"}),Object(p.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive pt-2 pb-15",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},Qe=n(112),Ge=n.n(Qe),Ye=function(){return Object(p.jsx)("div",{className:Ge.a.loader})},Ze=function(e){var t=e.isLoading,n=e.hasError,r=e.hasData,a=e.errorMessage,c=e.children,s=e.onErrorModalClose;return Object(p.jsxs)(p.Fragment,{children:[t&&Object(p.jsx)(Ye,{}),n&&Object(p.jsxs)(O,{onClose:s,children:[Object(p.jsx)("h1",{className:"text text_type_main-large",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),Object(p.jsx)("p",{className:"text text_type_main-medium text_color_inactive pt-10",children:a})]}),!t&&!n&&r&&c]})},Xe={ingredients:[],ingredientToView:null,ingredientsRequest:!1,ingredientsFailed:!1},$e=Object(H.b)({name:"ingreduents",initialState:Xe,reducers:{getIngredientsRequest:function(e){e.ingredientsRequest=!0},getIngredientsSuccess:function(e,t){e.ingredients=t.payload,e.ingredientsFailed=!1,e.ingredientsRequest=!1},getIngredientsFailed:function(e){e.ingredientsFailed=!0,e.ingredientsRequest=!1},setIngredientToView:function(e,t){e.ingredientToView=t.payload},resetIngredientToView:function(e){e.ingredientToView=null},resetIngredients:function(){return Xe}}}),et=$e.actions,tt=et.getIngredientsRequest,nt=et.getIngredientsSuccess,rt=et.getIngredientsFailed,at=et.setIngredientToView,ct=et.resetIngredientToView,st=et.resetIngredients,ot=$e.reducer,it=n(113),dt=n.n(it),lt=function(){var e=v(F),t=v(U),n=v(M),a=v(we),c=v(ke),s=y(),o=Object(r.useCallback)((function(t){var n=t.target;if(!n.closest(".constructor-element__action")){var r,a=null===(r=n.closest("li"))||void 0===r?void 0:r.dataset.id,c=e.find((function(e){return e._id===a}));c&&s(at(c))}}),[s,e]),i=Object(r.useCallback)((function(){s(st())}),[s]),d=Object(r.useCallback)((function(){s(ge())}),[s]);return Object(p.jsx)("main",{className:dt.a.homePage,children:Object(p.jsxs)(Ze,{isLoading:t,hasError:n,hasData:Boolean(null===e||void 0===e?void 0:e.length),errorMessage:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",onErrorModalClose:i,children:[Object(p.jsxs)(l.a,{backend:u.a,children:[Object(p.jsx)(V,{onOpenModalWithIngredient:o}),Object(p.jsx)(Ae,{onOpenModalWithIngredient:o})]}),Object(p.jsx)(Ze,{hasError:c,hasData:Boolean(a),onErrorModalClose:i,errorMessage:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",children:Object(p.jsx)(O,{onClose:d,children:Object(p.jsx)(He,{})})})]})})},ut=n(28),_t={user:null,forgotPassword:!1,resetPassword:!1,registerRequest:!1,registerFailed:!1,loginRequest:!1,loginFailed:!1,userDataRequest:!1,userDataFailed:!1,forgotPasswordRequest:!1,forgotPasswordFailed:!1,resetPasswordRequest:!1,resetPasswordFailed:!1},mt=Object(H.b)({name:"auth",initialState:_t,reducers:{setUserName:function(e,t){e.user&&(e.user.name=t.payload)},setUserEmail:function(e,t){e.user&&(e.user.email=t.payload)},setUserPassword:function(e,t){e.user&&(e.user.password=t.payload)},postRegisterRequest:function(e){e.registerRequest=!0},postRegisterSuccess:function(e,t){var n=t.payload,r=n.name,a=n.email;e.user=Object(J.a)(Object(J.a)({},e.user),{},{name:r,email:a,password:""}),e.registerFailed=!1,e.registerRequest=!1},postRegisterFailed:function(e){e.registerFailed=!0,e.registerRequest=!1},postLoginRequest:function(e){e.loginRequest=!0},postLoginSuccess:function(e,t){var n=t.payload,r=n.name,a=n.email;e.user=Object(J.a)(Object(J.a)({},e.user),{},{name:r,email:a,password:""}),e.loginFailed=!1,e.loginRequest=!1},postLoginFailed:function(e){e.loginFailed=!0,e.loginRequest=!1},updateUserRequest:function(e){e.userDataRequest=!0},updateUserSuccess:function(e,t){var n=t.payload,r=n.name,a=n.email;e.user=Object(J.a)(Object(J.a)({},e.user),{},{name:r,email:a,password:""}),e.userDataFailed=!1,e.userDataRequest=!1},updateUserFailed:function(e){e.userDataFailed=!0,e.userDataRequest=!1},postForgotPasswordRequest:function(e){e.forgotPasswordRequest=!0},postForgotPasswordSuccess:function(e){e.forgotPassword=!0,e.forgotPasswordFailed=!1,e.forgotPasswordRequest=!1},postForgotPasswordFailed:function(e){e.forgotPasswordFailed=!0,e.forgotPasswordRequest=!1},postResetPasswordRequest:function(e){e.resetPasswordRequest=!0},postResetPasswordSuccess:function(e){e.resetPassword=!0,e.resetPasswordFailed=!1,e.resetPasswordRequest=!1},postResetPasswordFailed:function(e){e.registerFailed=!0,e.registerRequest=!1},resetAuth:function(){return _t}}}),jt=mt.actions,bt=jt.setUserName,pt=jt.setUserEmail,ht=jt.setUserPassword,gt=jt.postRegisterRequest,ft=jt.postRegisterSuccess,Ot=jt.postRegisterFailed,xt=jt.postLoginRequest,vt=jt.postLoginSuccess,yt=jt.postLoginFailed,Nt=jt.updateUserRequest,Ct=jt.updateUserSuccess,kt=jt.updateUserFailed,wt=jt.postForgotPasswordRequest,It=jt.postForgotPasswordSuccess,Et=jt.postForgotPasswordFailed,Rt=jt.postResetPasswordRequest,Tt=jt.postResetPasswordSuccess,Dt=jt.postResetPasswordFailed,Pt=jt.resetAuth,St=mt.reducer,Ft=function(){return function(e){ue.postLogoutUser().then((function(t){t&&t.success&&(localStorage.removeItem("refreshToken"),ie("accessToken","",{expires:-1}),e(Pt()))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b: ".concat(e.message))}))}},qt=function e(){return function(t){t(Nt()),ue.getUserData().then((function(n){n&&n.success?t(Ct(n.user)):(t(kt()),e())})).catch((function(e){t(kt()),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ".concat(e.message))}))}},Ut=n(9),Mt=n.n(Ut),Bt=function(){var e=Object(o.c)(Ie).user,t=Object(o.c)(Te),n=Object(o.c)(De),a=Object(d.h)().state,c=Object(o.b)(),s=Object(r.useState)({email:"",password:""}),l=Object(x.a)(s,2),u=l[0],m=l[1],j=function(e){var t=e.target;m(Object(J.a)(Object(J.a)({},u),{},Object(ut.a)({},t.name,t.value)))},b=Object(r.useCallback)((function(e){var t;e.preventDefault(),c((t=u,function(e){e(xt()),ue.postLoginUser(t).then((function(t){t&&t.success?(localStorage.setItem("refreshToken",t.refreshToken),ie("accessToken",t.accessToken),e(vt(t.user))):e(yt())})).catch((function(t){e(yt()),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: ".concat(t.message))}))}))}),[c,u]),h=Object(r.useCallback)((function(){c(Pt())}),[c]);return e?Object(p.jsx)(d.a,{to:(null===a||void 0===a?void 0:a.from)||"/"}):Object(p.jsx)("main",{children:Object(p.jsx)("div",{className:"".concat(Mt.a.form__container),children:Object(p.jsx)(Ze,{hasError:n,hasData:!0,onErrorModalClose:h,errorMessage:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445",children:Object(p.jsxs)("form",{className:"".concat(Mt.a.form),onSubmit:b,children:[Object(p.jsx)("h1",{className:"text_type_main-medium pb-6",children:"\u0412\u0445\u043e\u0434"}),Object(p.jsx)("div",{className:"".concat(Mt.a.form__field," pb-6"),children:Object(p.jsx)(_.Input,{type:"email",placeholder:"E-mail",onChange:j,value:u.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(p.jsx)("div",{className:"".concat(Mt.a.form__field," pb-6"),children:Object(p.jsx)(_.PasswordInput,{onChange:j,value:u.password,name:"password"})}),Object(p.jsx)(_.Button,{type:"primary",size:"medium",children:t?"\u0412\u0445\u043e\u0434...":"\u0412\u043e\u0439\u0442\u0438"}),Object(p.jsxs)("p",{className:"text_type_main-default text_color_inactive pt-20 pb-4",children:["\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?\xa0",Object(p.jsx)(i.b,{className:"".concat(Mt.a.form__link),to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(p.jsxs)("p",{className:"text_type_main-default text_color_inactive",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0",Object(p.jsx)(i.b,{className:"".concat(Mt.a.form__link),to:"/forgot-password",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})})})},Lt=n(83),zt=n.n(Lt),Wt=function(e){var t,n=e.title,r=e.size,a=void 0===r?"default":r,c=e.children,s=e.onClick,o=Object(d.j)().url,l={"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440":"/","\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432":"/feed","\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442":"/profile","\u041f\u0440\u043e\u0444\u0438\u043b\u044c":"/profile","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432":"".concat(o,"/orders"),"\u0412\u044b\u0445\u043e\u0434":"/login","\u041b\u043e\u0433\u043e":"/","\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e":"/"},u=null===(t=Object(d.j)({path:l[n],strict:!1,sensitive:!0}))||void 0===t?void 0:t.isExact,m={"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440":Object(p.jsx)(_.BurgerIcon,{type:u?"primary":"secondary"}),"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432":Object(p.jsx)(_.ListIcon,{type:u?"primary":"secondary"}),"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442":Object(p.jsx)(_.ProfileIcon,{type:u?"primary":"secondary"})};return Object(p.jsxs)(i.c,{to:{pathname:l[n]},exact:!0,className:"".concat(zt.a.navigation__link," pt-4 pr-5 pb-4 pl-5"),activeClassName:zt.a.navigation__link_active,onClick:s,children:[m[n],Object(p.jsx)("span",{className:"text text_type_main-".concat(a," ml-2"),children:c})]})},At=n(48),Vt=n.n(At),Jt=function(){var e=Object(o.c)(Ie).user;return Object(p.jsx)("header",{className:Vt.a.header,children:Object(p.jsx)("div",{className:"".concat(Vt.a.header__container," pt-4 pb-4"),children:Object(p.jsx)("nav",{children:Object(p.jsxs)("ul",{className:Vt.a.header__navigation,children:[Object(p.jsx)("li",{children:Object(p.jsx)(Wt,{title:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})}),Object(p.jsx)("li",{children:Object(p.jsx)(Wt,{title:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(p.jsx)("li",{className:"".concat(Vt.a.header__logo," ml-25"),children:Object(p.jsx)(Wt,{title:"\u041b\u043e\u0433\u043e",children:Object(p.jsx)(_.Logo,{})})}),Object(p.jsx)("li",{children:Object(p.jsx)(Wt,{title:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",children:e?null===e||void 0===e?void 0:e.name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})})]})})})})},Kt=a.a.memo(Jt),Ht=function(){var e=Object(o.c)(Ie).user,t=Object(o.c)(Ee),n=Object(o.c)(Re),a=Object(d.h)().state,c=Object(o.b)(),s=Object(r.useState)({name:"",email:"",password:""}),l=Object(x.a)(s,2),u=l[0],m=l[1],j=function(e){var t=e.target;m(Object(J.a)(Object(J.a)({},u),{},Object(ut.a)({},t.name,t.value)))},b=Object(r.useCallback)((function(e){var t;e.preventDefault(),c((t=u,function(e){e(gt()),ue.postRegisterUser(t).then((function(t){t&&t.success?(localStorage.setItem("refreshToken",t.refreshToken),ie("accessToken",t.accessToken),e(ft(t.user))):e(Ot())})).catch((function(t){e(Ot()),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ".concat(t.message))}))}))}),[c,u]),h=Object(r.useCallback)((function(){c(Pt())}),[c]);return e?Object(p.jsx)(d.a,{to:(null===a||void 0===a?void 0:a.from)||"/"}):Object(p.jsx)("main",{className:"".concat(Mt.a.form__container),children:Object(p.jsx)(Ze,{hasError:n,hasData:!0,onErrorModalClose:h,errorMessage:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.",children:Object(p.jsxs)("form",{className:"".concat(Mt.a.form),onSubmit:b,children:[Object(p.jsx)("h1",{className:"text_type_main-medium pb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(p.jsx)("div",{className:"".concat(Mt.a.form__field," pb-6"),children:Object(p.jsx)(_.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:j,value:u.name,name:"name",error:!1,errorText:""})}),Object(p.jsx)("div",{className:"".concat(Mt.a.form__field," pb-6"),children:Object(p.jsx)(_.Input,{type:"email",placeholder:"E-mail",onChange:j,value:u.email,name:"email",error:!1,errorText:""})}),Object(p.jsx)("div",{className:"".concat(Mt.a.form__field," pb-6"),children:Object(p.jsx)(_.PasswordInput,{onChange:j,value:u.password,name:"password"})}),Object(p.jsx)(_.Button,{type:"primary",size:"medium",htmlType:"submit",name:"registerFormSubmitBtn",children:t?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f...":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(p.jsxs)("p",{className:"text_type_main-default text_color_inactive pt-20 pb-4",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",Object(p.jsx)(i.b,{className:"".concat(Mt.a.form__link),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})},Qt=function(){var e=Object(o.c)(Ie).user,t=Object(o.c)(Se),n=Object(o.c)(Fe),a=Object(o.c)(qe),c=Object(o.b)(),s=Object(d.g)(),l=Object(d.h)().state,u=Object(r.useState)({email:""}),m=Object(x.a)(u,2),j=m[0],b=m[1],h=Object(r.useCallback)((function(e){e.preventDefault(),c(function(e){var t=e.email;return function(e){e(wt()),ue.postForgotPassword({email:t}).then((function(t){t&&t.success?e(It()):e(Et())})).catch((function(t){e(Et()),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f: ".concat(t.message))}))}}(j))}),[c,j]),g=Object(r.useCallback)((function(){c(Pt())}),[c]);return e?Object(p.jsx)(d.a,{to:(null===l||void 0===l?void 0:l.from)||"/"}):n?Object(p.jsx)(d.a,{to:{pathname:"/reset-password",state:{from:s.location}}}):Object(p.jsx)("main",{className:"".concat(Mt.a.form__container),children:Object(p.jsx)(Ze,{hasError:a,hasData:!0,errorMessage:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435",onErrorModalClose:g,children:Object(p.jsxs)("form",{className:"".concat(Mt.a.form),onSubmit:h,children:[Object(p.jsx)("h1",{className:"text_type_main-medium pb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(p.jsx)("div",{className:"".concat(Mt.a.form__field," pb-6"),children:Object(p.jsx)(_.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",value:j.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",onChange:function(e){var t=e.target;b(Object(J.a)(Object(J.a)({},j),{},Object(ut.a)({},t.name,t.value)))}})}),Object(p.jsx)(_.Button,{type:"primary",size:"medium",children:t?"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u0447\u043d\u044b\u0439 \u043a\u043e\u0434...":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(p.jsxs)("p",{className:"text_type_main-default text_color_inactive pt-20 pb-4",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0",Object(p.jsx)(i.b,{className:"".concat(Mt.a.form__link),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})},Gt=function(){var e,t=Object(o.c)(Ie).user,n=Object(o.c)(Ue),a=Object(o.c)(Me),c=Object(d.h)().state,s=Object(o.b)(),l=Object(r.useState)({password:"",token:""}),u=Object(x.a)(l,2),m=u[0],j=u[1],b=function(e){var t=e.target;j(Object(J.a)(Object(J.a)({},m),{},Object(ut.a)({},t.name,t.value)))},h=Object(r.useCallback)((function(e){e.preventDefault(),s(function(e){var t=e.password,n=e.token;return function(e){e(Rt()),ue.postResetPassword({password:t,token:n}).then((function(t){t&&t.success?e(Tt()):e(Dt())})).catch((function(t){e(Dt()),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f: ".concat(t.message))}))}}(m))}),[s,m]),g=Object(r.useCallback)((function(){s(Pt())}),[s]);return t?Object(p.jsx)(d.a,{to:(null===c||void 0===c?void 0:c.from)||"/"}):t||"/forgot-password"===(null===(e=c.from)||void 0===e?void 0:e.pathname)?Object(p.jsx)("main",{className:"".concat(Mt.a.form__container),children:Object(p.jsx)(Ze,{hasError:a,hasData:!0,errorMessage:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435",onErrorModalClose:g,children:Object(p.jsxs)("form",{className:"".concat(Mt.a.form),onSubmit:h,children:[Object(p.jsx)("h1",{className:"text_type_main-medium pb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(p.jsx)("div",{className:"".concat(Mt.a.form__field," pb-6"),children:Object(p.jsx)(_.PasswordInput,{onChange:b,value:m.password,name:"password"})}),Object(p.jsx)("div",{className:"".concat(Mt.a.form__field," pb-6"),children:Object(p.jsx)(_.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:b,value:m.token,name:"token",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(p.jsx)(_.Button,{type:"primary",size:"medium",children:n?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(p.jsxs)("p",{className:"text_type_main-default text_color_inactive pt-20",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?\xa0",Object(p.jsx)(i.b,{className:"".concat(Mt.a.form__link),to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})}):Object(p.jsx)(d.a,{to:"/login"})},Yt=n(84),Zt=n.n(Yt),Xt=function(){return Object(p.jsx)("main",{className:Zt.a.notFound__container,children:Object(p.jsxs)("div",{className:Zt.a.notFound__info,children:[Object(p.jsx)("h1",{className:"text text_type_digits-large  pb-4",children:"404"}),Object(p.jsx)("p",{className:"text_type_main-medium  pb-6",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(p.jsx)(Wt,{title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",size:"medium",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})})},$t=n(31),en=n.n($t),tn=function(){var e=Object(o.b)(),t=Object(o.c)(Ie).user,n=Object(o.c)(Pe),a=Object(r.useState)(!0),c=Object(x.a)(a,2),s=c[0],i=c[1],l=Object(r.useRef)(null),u=Object(r.useRef)(null),m=Object(d.g)(),j=function(){i(!0)},b=Object(r.useCallback)((function(n){var r;n.preventDefault(),e((r=t,function(e){e(Nt()),ue.patchUserData(r).then((function(t){t&&t.success?e(Ct(t.user)):e(kt())})).catch((function(t){e(kt()),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ".concat(t.message))}))}))}),[e,t]),h=Object(r.useCallback)((function(e){e.preventDefault(),m.replace({pathname:"/"})}),[m]);return Object(p.jsxs)("form",{className:"mt-30",onSubmit:b,onReset:h,children:[Object(p.jsx)("div",{className:"".concat(en.a.profile__field),children:Object(p.jsx)(_.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",value:t?t.name:"",icon:"EditIcon",onChange:function(t){var n=t.target;e(bt(n.value))},onBlur:j,onIconClick:function(){i(!1),setTimeout((function(){var e;return null===(e=l.current)||void 0===e?void 0:e.focus()}),0)},ref:l,disabled:s})}),Object(p.jsx)("div",{className:"".concat(en.a.profile__field," pt-6"),children:Object(p.jsx)(_.EmailInput,{onChange:function(t){var n=t.target;e(pt(n.value))},value:t?t.email:"",name:"email"})}),Object(p.jsx)("div",{className:"".concat(en.a.profile__field," pt-6 pb-6"),children:Object(p.jsx)(_.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",value:t?t.password:"",icon:"EditIcon",onChange:function(t){var n=t.target;e(ht(n.value))},onBlur:j,onIconClick:function(){i(!1),setTimeout((function(){var e;return null===(e=u.current)||void 0===e?void 0:e.focus()}),0)},ref:u,disabled:s,error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(p.jsx)(_.Button,{type:"secondary",size:"medium",name:"profileEditCancelButton",htmlType:"reset",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(p.jsx)(_.Button,{type:"primary",size:"medium",name:"profileEditSubmitButton",htmlType:"submit",children:n?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},nn=function(e){return e.orders.wsConnected},rn=function(e){return e.orders.wsError},an=function(e){return e.orders.orders},cn=function(e){return e.orders.total},sn=function(e){return e.orders.totalToday},on=function(e){return e.orders.orderToView},dn=function(e){return Object(w.a)(F,(function(t){return e.map((function(e){var n=t.find((function(t){return t._id===e}));return"bun"===(null===n||void 0===n?void 0:n.type)?2*n.price:null===n||void 0===n?void 0:n.price})).reduce((function(e,t){return e&&t?e+t:0}))}))};var ln,un,_n=function(e){var t=new Date,n=new Date(e),r=new Intl.DateTimeFormat([],{timeStyle:"long"}),a=Math.round(Math.abs((t.valueOf()-n.valueOf())/864e5));return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f, ".concat(r.format(n)):a<2?"\u0412\u0447\u0435\u0440\u0430, ".concat(r.format(n)):"".concat(a," \u0434\u043d. \u043d\u0430\u0437\u0430\u0434, ").concat(r.format(n))},mn=n(16),jn=n.n(mn),bn=function(e){var t=e.id,n=e.ingredients,a=e.status,c=e.name,s=e.number,l=e.createdAt,u=e.onOpenModal,m={created:"".concat(jn.a.orderItem__status_created),pending:"".concat(jn.a.orderItem__status_progress),done:"".concat(jn.a.orderItem__status_done)},j=Object(o.c)(F),b=Object(o.c)(dn(n)),h=Array.from(new Set(n.map((function(e){var t;return null===(t=j.find((function(t){return t._id===e})))||void 0===t?void 0:t.image_mobile})))).sort(),g=h.length-6+1,f=Object(d.h)().pathname,O=Object(d.h)(),x="/profile/orders"===f,v=Object(r.useCallback)((function(e){return u(e)}),[u]);return Object(p.jsx)(i.b,{to:{pathname:"".concat(f,"/").concat(t),state:{background:O}},children:Object(p.jsxs)("li",{className:"".concat(jn.a.orderItem__container," p-6 mr-2 mb-6"),"data-id":t,onClick:v,onKeyPress:v,children:[Object(p.jsxs)("div",{className:jn.a.orderItem__header,children:[Object(p.jsx)("span",{className:"text text text_type_digits-default",children:"#".concat(s)}),Object(p.jsx)("span",{className:"".concat(jn.a.orderItem__createdAt," text text_type_main-default text_color_inactive"),children:_n(l)})]}),Object(p.jsx)("h2",{className:"".concat(jn.a.orderItem__title," text text_type_main-medium pt-6 pb-6"),children:c}),x&&Object(p.jsx)("p",{className:"".concat(jn.a.orderItem__status," ").concat(m[a]," text text_type_main-default pb-6"),children:{created:"\u0421\u043e\u0437\u0434\u0430\u043d",pending:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f",done:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}[a]}),Object(p.jsxs)("div",{className:jn.a.orderItem__details,children:[Object(p.jsxs)("ul",{className:jn.a.orderItem__images,children:[h.slice(0,6).map((function(e,n){return Object(p.jsx)("li",{className:jn.a.orderItem__imageOverlay,"data-id":t,children:Object(p.jsx)("img",{src:e,alt:c,className:jn.a.orderItem__image})},n)})),g>0&&Object(p.jsx)("li",{className:"text text text_type_digits-default ".concat(jn.a.orderItem__imagesCount),children:"+".concat(g)})]}),Object(p.jsxs)("div",{className:jn.a.orderItem__price,children:[Object(p.jsx)("span",{className:"text text text_type_digits-default pr-2",children:b}),Object(p.jsx)(_.CurrencyIcon,{type:"primary"})]})]})]})})},pn=a.a.memo(bn),hn=n(114),gn=n.n(hn),fn=function(e){var t=e.onOpenModalWithOrder,n=Object(d.h)().pathname,r="/feed"===n,a="/profile/orders"===n,c=v(an);return a&&(c=Object(k.a)(c).reverse()),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:r&&"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(p.jsx)("ul",{className:"".concat(gn.a.orders__list," ").concat(L.a.scroll),children:c.map((function(e){return Object(p.jsx)(pn,{id:e._id,ingredients:e.ingredients,status:e.status,name:e.name,number:e.number,createdAt:e.createdAt,onOpenModal:t},e._id)}))})]})},On={wsConnected:!1,wsError:!1,orders:[],orderToView:null,total:0,totalToday:0},xn=Object(H.b)({name:"orders",initialState:On,reducers:{getAllOrdersWsStart:function(e){return e},getUserOrdersWsStart:function(e){return e},getOrdersWsSuccess:function(e){e.wsConnected=!0},getOrdersWsError:function(e){e.wsConnected=!1,e.wsError=!0},getOrdersWsClosed:function(e){e.wsConnected=!1},getOrders:function(e,t){e.orders=t.payload.orders,e.total=t.payload.total,e.totalToday=t.payload.totalToday},setOrderToView:function(e,t){e.orderToView=t.payload},resetOrderToView:function(e){e.orderToView=null},resetOrders:function(){return On}}}),vn=xn.actions,yn=vn.getAllOrdersWsStart,Nn=vn.getUserOrdersWsStart,Cn=vn.getOrdersWsSuccess,kn=vn.getOrdersWsError,wn=vn.getOrdersWsClosed,In=vn.getOrders,En=vn.setOrderToView,Rn=vn.resetOrderToView,Tn=vn.resetOrders,Dn=xn.reducer,Pn=n(115),Sn=n.n(Pn),Fn=function(){var e=v(an),t=v(nn),n=v(rn),a=y();Object(r.useEffect)((function(){return a(Nn()),function(){a(wn())}}),[a]);var c=Object(r.useCallback)((function(t){var n,r=null===(n=t.target.closest("li"))||void 0===n?void 0:n.dataset.id,c=e.find((function(e){return e._id===r}));c&&a(En(c))}),[a,e]),s=Object(r.useCallback)((function(){a(Tn())}),[a]);return Object(p.jsx)("section",{className:Sn.a.ordersHistory__container,children:Object(p.jsx)(Ze,{isLoading:!t&&!n,hasError:n,hasData:Boolean(null===e||void 0===e?void 0:e.length),errorMessage:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",onErrorModalClose:s,children:Object(p.jsx)(fn,{onOpenModalWithOrder:c})})})},qn=function(){var e=Object(d.j)().path,t=Object(o.b)();Object(r.useEffect)((function(){t(qt())}),[t]);var n=Object(r.useCallback)((function(){t(Ft())}),[t]);return Object(p.jsxs)("main",{className:"".concat(en.a.profile__container),children:[Object(p.jsx)("nav",{children:Object(p.jsxs)("ul",{className:"".concat(en.a.profile__navigation," mt-30"),children:[Object(p.jsx)("li",{children:Object(p.jsx)(Wt,{title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",size:"medium",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(p.jsx)("li",{children:Object(p.jsx)(Wt,{title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432",size:"medium",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(p.jsx)("li",{children:Object(p.jsx)(Wt,{title:"\u0412\u044b\u0445\u043e\u0434",size:"medium",onClick:n,children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(p.jsx)("li",{children:Object(p.jsx)("p",{className:"".concat(en.a.profile__description," \n              text_type_main-small text_color_inactive mt-20 ml-7"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438\xa0\u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})})]})}),Object(p.jsxs)(d.d,{children:[Object(p.jsx)(d.b,{path:e,exact:!0,children:Object(p.jsx)(tn,{})}),Object(p.jsx)(d.b,{path:"".concat(e,"/orders"),exact:!0,children:Object(p.jsx)(Fn,{})}),Object(p.jsx)(d.b,{children:Object(p.jsx)(Xt,{})})]})]})},Un=n(116),Mn=["children"],Bn=function(e){var t=e.children,n=Object(Un.a)(e,Mn),r=Object(o.c)(Ie).user;return Object(p.jsx)(d.b,Object(J.a)(Object(J.a)({},n),{},{render:function(e){var n=e.location;return r?t:Object(p.jsx)(d.a,{to:{pathname:"/login",state:{from:n}}})}}))},Ln=n(29),zn=n.n(Ln),Wn=function(){var e,t,n,r,a,c,s,i=Object(o.c)(F),l=Object(o.c)(q),u=Object(d.i)().id;return l||(l=i.find((function(e){return e._id===u}))),Object(p.jsxs)("div",{className:"".concat(zn.a.ingredient," pr-15 pl-15"),children:[Object(p.jsx)("h2",{className:"".concat(zn.a.ingredient__title," text text_type_main-large pb-4"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(p.jsx)("img",{className:"".concat(zn.a.ingredient__image," pb-4"),src:null===(e=l)||void 0===e?void 0:e.image,alt:null===(t=l)||void 0===t?void 0:t.name}),Object(p.jsx)("p",{className:"".concat(zn.a.ingredient__name," text text_type_main-medium pb-8"),children:null===(n=l)||void 0===n?void 0:n.name}),Object(p.jsxs)("div",{className:"".concat(zn.a.ingredient__compounds),children:[Object(p.jsxs)("div",{className:"".concat(zn.a.ingredient__compound),children:[Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(p.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:null===(r=l)||void 0===r?void 0:r.calories})]}),Object(p.jsxs)("div",{className:"".concat(zn.a.ingredient__compound),children:[Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(p.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:null===(a=l)||void 0===a?void 0:a.proteins})]}),Object(p.jsxs)("div",{className:"".concat(zn.a.ingredient__compound),children:[Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(p.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:null===(c=l)||void 0===c?void 0:c.fat})]}),Object(p.jsxs)("div",{className:"".concat(zn.a.ingredient__compound),children:[Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive pb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(p.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:null===(s=l)||void 0===s?void 0:s.carbohydrates})]})]})]})},An=n(117),Vn=n.n(An),Jn=function(){var e=v(F),t=v(U),n=v(M),a=y(),c=Object(r.useCallback)((function(){a(st())}),[a]);return Object(p.jsx)("main",{className:Vn.a.indredient__container,children:Object(p.jsx)(Ze,{isLoading:t,hasError:n,hasData:Boolean(null===e||void 0===e?void 0:e.length),errorMessage:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",onErrorModalClose:c,children:Object(p.jsx)(Wn,{})})})},Kn=n(32),Hn=n.n(Kn),Qn=function(){var e=v(an),t=v(cn),n=v(sn);return Object(p.jsxs)("section",{className:"".concat(Hn.a.dashboard),children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(p.jsx)("ul",{className:"".concat(Hn.a.dashboard__list," ").concat(Hn.a.dashboard__list_done),children:e.filter((function(e){return"done"===e.status})).slice(0,10).map((function(e){return Object(p.jsx)("li",{className:"".concat(Hn.a.dashboard__number," text text text_type_digits-default mb-2"),children:e.number},e._id)}))})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(p.jsx)("ul",{className:"".concat(Hn.a.dashboard__list),children:e.filter((function(e){return"pending"===e.status})).slice(0,10).map((function(e){return Object(p.jsx)("li",{className:"text text text_type_digits-default mb-2",children:e.number},e._id)}))})]}),Object(p.jsxs)("div",{className:"".concat(Hn.a.dashboard__total," mt-10"),children:[Object(p.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(p.jsx)("span",{className:"text text text_type_digits-large",children:t})]}),Object(p.jsxs)("div",{className:"".concat(Hn.a.dashboard__totalToday," mt-5"),children:[Object(p.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(p.jsx)("span",{className:"text text text_type_digits-large",children:n})]})]})},Gn=n(118),Yn=n.n(Gn),Zn=function(){var e=v(an),t=y(),n=v(nn),a=v(rn);Object(r.useEffect)((function(){return t(yn()),function(){t(wn())}}),[t]);var c=Object(r.useCallback)((function(n){var r,a=null===(r=n.target.closest("li"))||void 0===r?void 0:r.dataset.id,c=e.find((function(e){return e._id===a}));c&&t(En(c))}),[t,e]),s=Object(r.useCallback)((function(){t(Tn())}),[t]);return Object(p.jsx)("main",{className:Yn.a.feedPage,children:Object(p.jsxs)(Ze,{isLoading:!n&&!a,hasError:a,hasData:Boolean(null===e||void 0===e?void 0:e.length),errorMessage:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",onErrorModalClose:s,children:[Object(p.jsx)(fn,{onOpenModalWithOrder:c}),Object(p.jsx)(Qn,{})]})})},Xn=function(){return function(e){e(tt()),ue.getIngredients().then((function(t){t&&t.success?e(nt(t.data)):e(rt())})).catch((function(t){e(rt()),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432: ".concat(t))}))}},$n=n(15),er=n.n($n),tr=function(){var e,t,n={created:"".concat(er.a.orderContents__status_created),pending:"".concat(er.a.orderContents__status_progress),done:"".concat(er.a.orderContents__status_done)},r=Object(o.c)(an),a=Object(o.c)(F),c=Object(o.c)(on),s=Object(d.i)().id;c||(c=r.find((function(e){return e._id===s})));var i=Object(o.c)(dn(c.ingredients)),l=c?n[c.status]:"",u=c?{created:"\u0421\u043e\u0437\u0434\u0430\u043d",pending:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f",done:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}[c.status]:"";return Object(p.jsxs)("li",{className:"".concat(er.a.orderContents__container),children:[Object(p.jsx)("p",{className:"text text text_type_digits-default mt-4 mb-10",children:"#".concat(null===(e=c)||void 0===e?void 0:e.number)}),Object(p.jsx)("h1",{className:"".concat(er.a.orderContents__title," text text_type_main-medium mb-3"),children:null===(t=c)||void 0===t?void 0:t.name}),Object(p.jsx)("p",{className:"".concat(er.a.orderContents__status," ").concat(l," text text_type_main-default mb-15"),children:u}),Object(p.jsx)("h2",{className:"".concat(er.a.orderContents__title," text text_type_main-medium mb-6"),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(p.jsx)("ul",{className:"".concat(er.a.orderContents__ingredients," ").concat(L.a.scroll," mb-10"),children:function(){var e,t,n={};return null===(e=c)||void 0===e||e.ingredients.forEach((function(e){n[e]?n[e]+=1:n[e]=1})),Array.from(new Set(null===(t=c)||void 0===t?void 0:t.ingredients)).map((function(e){var t=a.find((function(t){return t._id===e}));return"bun"===(null===t||void 0===t?void 0:t.type)?{id:null===t||void 0===t?void 0:t._id,image:null===t||void 0===t?void 0:t.image_mobile,name:null===t||void 0===t?void 0:t.name,price:null===t||void 0===t?void 0:t.price,count:2}:{id:null===t||void 0===t?void 0:t._id,image:null===t||void 0===t?void 0:t.image_mobile,name:null===t||void 0===t?void 0:t.name,price:null===t||void 0===t?void 0:t.price,count:null!==t&&void 0!==t&&t._id?n[t._id]:0}}))}().map((function(e){return Object(p.jsxs)("li",{className:"".concat(er.a.orderContents__ingredient," mb-4"),children:[Object(p.jsx)("div",{className:er.a.orderContents__imageOverlay,children:Object(p.jsx)("img",{src:e.image,alt:e.name,className:er.a.orderContents__image})}),Object(p.jsx)("span",{className:"text text_type_main-default ml-4",children:e.name}),Object(p.jsxs)("div",{className:"".concat(er.a.orderContents__price," mr-6"),children:[Object(p.jsx)("span",{className:"text text text_type_digits-default mr-2 ml-6",children:"".concat(e.count," x ").concat(e.price)}),Object(p.jsx)(_.CurrencyIcon,{type:"primary"})]})]},e.id)}))}),Object(p.jsxs)("div",{className:"".concat(er.a.orderContents__details),children:[Object(p.jsx)("span",{className:"".concat(er.a.orderContents__createdAt," text text_type_main-default text_color_inactive mt-1"),children:c&&_n(c.createdAt)}),Object(p.jsxs)("div",{className:er.a.orderContents__price,children:[Object(p.jsx)("span",{className:"text text text_type_digits-default pr-2",children:i}),Object(p.jsx)(_.CurrencyIcon,{type:"primary"})]})]})]})},nr=a.a.memo(tr),rr=n(119),ar=n.n(rr),cr=function(){var e=Object(o.c)(an),t=Object(o.b)(),n=Object(r.useCallback)((function(){t(Tn())}),[t]);return Object(p.jsx)("main",{className:ar.a.order__container,children:Object(p.jsx)(Ze,{isLoading:!1,hasError:!1,hasData:Boolean(null===e||void 0===e?void 0:e.length),errorMessage:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",onErrorModalClose:n,children:Object(p.jsx)(nr,{})})})},sr=function(){var e=Object(o.b)(),t=Object(o.c)(q),n=Object(o.c)(on),a=Object(d.g)(),c=Object(d.h)(),s=(null===c||void 0===c?void 0:c.state)&&c.state.background;Object(r.useEffect)((function(){return e(qt()),e(Xn()),e(yn()),function(){e(wn())}}),[e]);var i=Object(r.useCallback)((function(){e(ct()),a.replace("/")}),[e,a]),l=Object(r.useCallback)((function(){e(Rn()),a.goBack()}),[e,a]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Kt,{}),Object(p.jsxs)(d.d,{location:s||c,children:[Object(p.jsx)(d.b,{path:"/",exact:!0,children:Object(p.jsx)(lt,{})}),Object(p.jsx)(d.b,{path:"/feed",exact:!0,children:Object(p.jsx)(Zn,{})}),Object(p.jsx)(d.b,{path:"/login",exact:!0,children:Object(p.jsx)(Bt,{})}),Object(p.jsx)(d.b,{path:"/register",exact:!0,children:Object(p.jsx)(Ht,{})}),Object(p.jsx)(d.b,{path:"/forgot-password",exact:!0,children:Object(p.jsx)(Qt,{})}),Object(p.jsx)(d.b,{path:"/reset-password",exact:!0,children:Object(p.jsx)(Gt,{})}),Object(p.jsx)(Bn,{path:"/profile/orders/:id",exact:!0,children:Object(p.jsx)(cr,{})}),Object(p.jsx)(Bn,{path:"/profile",children:Object(p.jsx)(qn,{})}),Object(p.jsx)(d.b,{path:"/ingredients/:id",exact:!0,children:Object(p.jsx)(Jn,{})}),Object(p.jsx)(d.b,{path:"/feed/:id",exact:!0,children:Object(p.jsx)(cr,{})}),Object(p.jsx)(d.b,{children:Object(p.jsx)(Xt,{})})]}),t&&s&&Object(p.jsx)(d.b,{path:"/ingredients/:id",children:Object(p.jsx)(O,{onClose:i,children:Object(p.jsx)(Wn,{})})}),n&&s&&Object(p.jsx)(d.b,{path:"/profile/orders/:id",children:Object(p.jsx)(O,{onClose:l,children:Object(p.jsx)(nr,{})})}),n&&s&&Object(p.jsx)(d.b,{path:"/feed/:id",children:Object(p.jsx)(O,{onClose:l,children:Object(p.jsx)(nr,{})})})]})},or=n(45),ir={wsAllOrdersInit:yn.type,wsUserOrdersInit:Nn.type,onOpen:Cn.type,onClose:wn.type,onError:kn.type,onMessage:In.type},dr=Object(H.a)({reducer:{order:fe,burgerIngredients:ot,burgerConstructor:ae,auth:St,orders:Dn},middleware:[or.a,(ln="wss://norma.nomoreparties.space",un=ir,function(e){var t=null;return function(n){return function(r){var a=e.dispatch,c=r.type,s=un.wsAllOrdersInit,o=un.wsUserOrdersInit,i=un.onOpen,d=un.onClose,l=un.onError,u=un.onMessage;if(c===s&&(t=new WebSocket("".concat(ln,"/orders/all"))),c===o){var _=oe("accessToken").replace("Bearer ","");t=new WebSocket("".concat(ln,"/orders?token=").concat(_))}t&&(t.onopen=function(e){a({type:i,payload:e})},t.onerror=function(e){a({type:l,payload:e})},t.onmessage=function(e){var t=e.data,n=JSON.parse(t),r=Object.assign({},n);a({type:u,payload:r})},t.onclose=function(e){a({type:d,payload:e})}),n(r)}}})],devTools:!1});s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(o.a,{store:dr,children:Object(p.jsx)(i.a,{children:Object(p.jsx)(sr,{})})})}),document.getElementById("root"))},26:function(e,t,n){e.exports={constructor__elements:"burger-constructor_constructor__elements__cuaLn",constructor__elements_dropArea:"burger-constructor_constructor__elements_dropArea__XgeNC",constructor__elements_canDrop:"burger-constructor_constructor__elements_canDrop__1Itgz",constructor__elements_canNotDrop:"burger-constructor_constructor__elements_canNotDrop__Loy8D",constructor__bunElement:"burger-constructor_constructor__bunElement__15ixT",constructor__nonBunElements:"burger-constructor_constructor__nonBunElements__3Ni4f",constructor__totalPriceContainer:"burger-constructor_constructor__totalPriceContainer__3S0-0",constructor__totalPrice:"burger-constructor_constructor__totalPrice__24T16",constructor__text:"burger-constructor_constructor__text__29Utu"}},29:function(e,t,n){e.exports={ingredient:"ingredient-details_ingredient__2hFcT",ingredient__name:"ingredient-details_ingredient__name__2xadH",ingredient__image:"ingredient-details_ingredient__image__3mDBz",ingredient__title:"ingredient-details_ingredient__title__2Rwjs",ingredient__compounds:"ingredient-details_ingredient__compounds__3fcIW",ingredient__compound:"ingredient-details_ingredient__compound__3rw40"}},30:function(e,t,n){e.exports={scroll:"app_scroll__1ZMNu"}},31:function(e,t,n){e.exports={profile__container:"profile_profile__container__2NtLF",profile__navigation:"profile_profile__navigation__wc-Aa",profile__field:"profile_profile__field__2eqec",profile__description:"profile_profile__description__49uTk"}},32:function(e,t,n){e.exports={dashboard:"orders-dashboard_dashboard__2Djow",dashboard__list:"orders-dashboard_dashboard__list__xzirD",dashboard__list_done:"orders-dashboard_dashboard__list_done__3jzeY",dashboard__number:"orders-dashboard_dashboard__number__3qR44",dashboard__total:"orders-dashboard_dashboard__total__J2Vep",dashboard__totalToday:"orders-dashboard_dashboard__totalToday__3LOh3"}},46:function(e,t,n){e.exports={"ingredient__\u0441ard":"burger-ingredient_ingredient__\u0441ard__zgE2z","ingredient__\u0441ard_isDragging":"burger-ingredient_ingredient__\u0441ard_isDragging__39uQp",ingredient__price:"burger-ingredient_ingredient__price__Zb6Pu",ingredient__name:"burger-ingredient_ingredient__name__1XA3f"}},47:function(e,t,n){e.exports={ingredients__tabContainer:"burger-ingredients_ingredients__tabContainer__3aRpQ",ingredients__list:"burger-ingredients_ingredients__list__2rRB8",ingredient__category:"burger-ingredients_ingredient__category__2v9Jj"}},48:function(e,t,n){e.exports={header:"app-header_header__1iHLW",header__container:"app-header_header__container__1zQvH",header__navigation:"app-header_header__navigation__2N-rI",header__logo:"app-header_header__logo__27E10"}},59:function(e,t,n){e.exports={order:"order-details_order__12ZdD",order__number:"order-details_order__number__g-Ijp",order__image:"order-details_order__image__1UwKi"}},78:function(e,t,n){e.exports={modal:"modal_modal__1DF1f",modal__closeIcon:"modal_modal__closeIcon__2BB1n"}},81:function(e,t,n){e.exports={draggableElement:"draggable-item_draggableElement__1G66w",draggableElement_isDragging:"draggable-item_draggableElement_isDragging__J3B_G"}},83:function(e,t,n){e.exports={navigation__link:"navigation-link_navigation__link__KGGEA",navigation__link_active:"navigation-link_navigation__link_active__3She4"}},84:function(e,t,n){e.exports={notFound__container:"not-found-404_notFound__container__31_Jx",notFound__info:"not-found-404_notFound__info__1-tzn",notFound__link:"not-found-404_notFound__link__3qQ0l"}},9:function(e,t,n){e.exports={form__container:"forms_form__container__2-Gp2",form:"forms_form__2rK1V",form__field:"forms_form__field__2caEc",form__link:"forms_form__link___LrY8"}}},[[212,1,2]]]);
//# sourceMappingURL=main.7fa6ae4d.chunk.js.map